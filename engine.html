

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>The Code &mdash; PandExo  documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script type="text/javascript" src="_static/jquery.js"></script>
        <script type="text/javascript" src="_static/underscore.js"></script>
        <script type="text/javascript" src="_static/doctools.js"></script>
        <script type="text/javascript" src="_static/language_data.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="prev" title="HST Tutorial" href="tutorialhst.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> PandExo
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="includeme.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="installation.html">Pre-installation Data Download</a></li>
<li class="toctree-l1"><a class="reference internal" href="installation.html#installation-with-pip-or-git">Installation with Pip or Git</a></li>
<li class="toctree-l1"><a class="reference internal" href="installation.html#final-test-for-success">Final Test for Success</a></li>
<li class="toctree-l1"><a class="reference internal" href="installation.html#troubleshooting-common-errors">Troubleshooting-Common Errors</a></li>
<li class="toctree-l1"><a class="reference internal" href="installation.html#the-importance-of-upgrading-pandexo">The Importance of Upgrading PandExo</a></li>
<li class="toctree-l1"><a class="reference internal" href="installation_windows.html">Windows Installing Guide for PandExo</a></li>
<li class="toctree-l1"><a class="reference internal" href="tutorialjwst.html">JWST Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="jwstinput.html">Possible Instrument Input Params</a></li>
<li class="toctree-l1"><a class="reference internal" href="jwstdict.html">Py Dict Structure of JWST Output</a></li>
<li class="toctree-l1"><a class="reference internal" href="tutorialhst.html">HST Tutorial</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">The Code</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#module-engine.justdoit">engine.justdoit</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-engine.justplotit">engine.justplotit</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-engine.bintools">engine.bintools</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-engine.run_online">engine.run_online</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-engine.compute_noise">engine.compute_noise</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-engine.create_input">engine.create_input</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-engine.hst">engine.hst</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-engine.jwst">engine.jwst</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-engine.load_modes">engine.load_modes</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-engine.pandexo">engine.pandexo</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-engine.elements">engine.elements</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#requirements">Requirements</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#module-engine.hst_smooth">engine.hst_smooth</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-engine.logs">engine.logs</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-engine">Module contents</a></li>
</ul>
</li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">PandExo</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>The Code</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/engine.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="the-code">
<h1>The Code<a class="headerlink" href="#the-code" title="Permalink to this headline">¶</a></h1>
<div class="section" id="module-engine.justdoit">
<span id="engine-justdoit"></span><h2>engine.justdoit<a class="headerlink" href="#module-engine.justdoit" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="engine.justdoit.dispersers">
<code class="sig-prename descclassname">engine.justdoit.</code><code class="sig-name descname">dispersers</code><span class="sig-paren">(</span><em class="sig-param">inst</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/engine/justdoit.html#dispersers"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#engine.justdoit.dispersers" title="Permalink to this definition">¶</a></dt>
<dd><p>function to show available dispersers</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>inst</strong> (<em>str</em>) – string of either niriss, nirspec, miri or nircam</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>lsit with available dispersers</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>list</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="engine.justdoit.filters">
<code class="sig-prename descclassname">engine.justdoit.</code><code class="sig-name descname">filters</code><span class="sig-paren">(</span><em class="sig-param">inst</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/engine/justdoit.html#filters"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#engine.justdoit.filters" title="Permalink to this definition">¶</a></dt>
<dd><p>Function to show availalbe filters</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>inst</strong> (<em>str</em>) – string of either niriss, nirspec, miri or nircam</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>list with availalbe filters</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>list</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="engine.justdoit.getStarName">
<code class="sig-prename descclassname">engine.justdoit.</code><code class="sig-name descname">getStarName</code><span class="sig-paren">(</span><em class="sig-param">planet_name</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/engine/justdoit.html#getStarName"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#engine.justdoit.getStarName" title="Permalink to this definition">¶</a></dt>
<dd><p>Given a string with a (supposed) planet name, this function returns the star name. For example:</p>
<ul class="simple">
<li><p>If <cite>planet_name</cite> is ‘HATS-5b’ this returns ‘HATS-5’.</p></li>
<li><p>If <cite>planet_name</cite> is ‘Kepler-12Ab’ this returns ‘Kepler-12A’.</p></li>
</ul>
<p>It also handles the corner case in which <cite>planet_name</cite> is <em>not</em> a planet name, but a star name itself, e.g.:</p>
<ul class="simple">
<li><p>If <cite>planet_name</cite> is ‘HAT-P-1’ it returns ‘HAT-P-1’.</p></li>
<li><p>If <cite>planet_name</cite> is ‘HAT-P-1  ‘ it returns ‘HAT-P-1’.</p></li>
</ul>
</dd></dl>

<dl class="function">
<dt id="engine.justdoit.get_thruput">
<code class="sig-prename descclassname">engine.justdoit.</code><code class="sig-name descname">get_thruput</code><span class="sig-paren">(</span><em class="sig-param">inst</em>, <em class="sig-param">niriss=1</em>, <em class="sig-param">nirspec='f100lp'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/engine/justdoit.html#get_thruput"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#engine.justdoit.get_thruput" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns complete instrument photon to electron conversion efficiency
Pulls complete instrument photon to electron conversion efficiency
(PCE) based on instrument key input</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>inst</strong> (<em>str</em>) – One of the instrument keys in <cite>print_instruments</cite></p></li>
<li><p><strong>niriss</strong> (<em>int</em>) – (Optional) defines which niriss order you want (1 or 2)</p></li>
<li><p><strong>nirspec</strong> (<em>str</em>) – (Optional) for NIRISS G140M/H there are two available filters (f100lp and f070lp)
if you are selecting G140M or G140H, this allows you to pick which one</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Dictionary with wave solution and PCE</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">thru_dict</span> <span class="o">=</span> <span class="n">get_thruput</span><span class="p">(</span><span class="s1">&#39;NIRISS SOSS_Or1&#39;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="engine.justdoit.grid_options">
<code class="sig-prename descclassname">engine.justdoit.</code><code class="sig-name descname">grid_options</code><span class="sig-paren">(</span><em class="sig-param">grid='fortney'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/engine/justdoit.html#grid_options"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#engine.justdoit.grid_options" title="Permalink to this definition">¶</a></dt>
<dd><p>Function to show available grid options</p>
<p>PandExo now supports various grid options. Currently, the only one that is availalbe
is the Fortney grid for giant planets. We will be implementing others, as they
become available. It will become increasingly difficult for users to see what
options are availalbe to them. This function should guide users to choose
the grid that best fits their needs.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>grid</strong> (<em>str</em>) – (Optional) string which ‘fortney’</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="engine.justdoit.load_exo_dict">
<code class="sig-prename descclassname">engine.justdoit.</code><code class="sig-name descname">load_exo_dict</code><span class="sig-paren">(</span><em class="sig-param">planet_name=None</em>, <em class="sig-param">pl_kwargs={}</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/engine/justdoit.html#load_exo_dict"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#engine.justdoit.load_exo_dict" title="Permalink to this definition">¶</a></dt>
<dd><p>Loads in empty exoplanet dictionary for pandexo input</p>
<p>Loads in empty exoplanet dictionary so that the user can manually edit different planet
parameters. Must be done for every bash run. User must edit each keys within the dictionary.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>planet_name</strong> (<em>str</em>) – (Optional) Planet name e.g. ‘HD 189733 b’ or ‘HD189733b’</p></li>
<li><p><strong>pl_kwargs</strong> (<em>dict</em>) – (Optional) : dict
if you get an error that there is a missing field you can enter it in dictionary form using this
e.g. pl_kwargs = {“Jmag”:7}</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Empty dictionary to be filled out by the user before running PandExo</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">exo_dict</span> <span class="o">=</span> <span class="n">load_exo_dict</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">exo_dict</span><span class="p">[</span><span class="s1">&#39;planet&#39;</span><span class="p">][</span><span class="s1">&#39;transit_duration&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">2</span><span class="o">*</span><span class="mi">60</span><span class="o">*</span><span class="mi">60</span> <span class="c1">#2 hours</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="engine.justdoit.load_mode_dict">
<code class="sig-prename descclassname">engine.justdoit.</code><code class="sig-name descname">load_mode_dict</code><span class="sig-paren">(</span><em class="sig-param">inst</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/engine/justdoit.html#load_mode_dict"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#engine.justdoit.load_mode_dict" title="Permalink to this definition">¶</a></dt>
<dd><p>Function to pull in correct instrument dictionary</p>
<p>This is the instrument counterpart to load_exo_dict. It loads in a template instrument
dictionary for a specific instrument mode.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>inst</strong> (<em>str</em>) – One of the allowable instrument keys. To see which instrument modes are available
use <cite>print_instruments()</cite></p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Filled out template of instrument dictionary, which can be editted before
running to PandExo (not required).</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">inst_dict</span> <span class="o">=</span> <span class="n">load_mode_dict</span><span class="p">(</span><span class="s1">&#39;MIRI LRS&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">inst_dict</span><span class="p">[</span><span class="s1">&#39;configuration&#39;</span><span class="p">][</span><span class="s1">&#39;instrument&#39;</span><span class="p">][</span><span class="s1">&#39;aperture&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;lrsslit&#39;</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="engine.justdoit.print_instruments">
<code class="sig-prename descclassname">engine.justdoit.</code><code class="sig-name descname">print_instruments</code><span class="sig-paren">(</span><em class="sig-param">verbose=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/engine/justdoit.html#print_instruments"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#engine.justdoit.print_instruments" title="Permalink to this definition">¶</a></dt>
<dd><p>Prints a list of the possible instrument templates to load</p>
</dd></dl>

<dl class="function">
<dt id="engine.justdoit.run_inst_space">
<code class="sig-prename descclassname">engine.justdoit.</code><code class="sig-name descname">run_inst_space</code><span class="sig-paren">(</span><em class="sig-param">inst</em>, <em class="sig-param">exo</em>, <em class="sig-param">verbose=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/engine/justdoit.html#run_inst_space"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#engine.justdoit.run_inst_space" title="Permalink to this definition">¶</a></dt>
<dd><p>Changes inst dictionary and submits run</p>
<p>This function is used to reset the instrument dictionary.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>exo</strong> (<em>dict</em>) – Exoplanet dictionary which can be loaded in and editted through <cite>load_exo_dict</cite></p></li>
<li><p><strong>inst</strong> (<em>str</em>) – Key which indicates with instrument</p></li>
<li><p><strong>verbose</strong> (<em>bool</em>) – (Optional) prints out checkpoints. Assuming the user does not want a load of
print statements for parallel runs</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Dictionary with output of pandexo. Key is the value of the parameter that was
looped through.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="engine.justdoit.run_pandexo">
<code class="sig-prename descclassname">engine.justdoit.</code><code class="sig-name descname">run_pandexo</code><span class="sig-paren">(</span><em class="sig-param">exo</em>, <em class="sig-param">inst</em>, <em class="sig-param">param_space=0</em>, <em class="sig-param">param_range=0</em>, <em class="sig-param">save_file=True</em>, <em class="sig-param">output_path='/Users/nbatalh1/Documents/codes/PandExo/docs'</em>, <em class="sig-param">output_file=''</em>, <em class="sig-param">num_cores=8</em>, <em class="sig-param">verbose=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/engine/justdoit.html#run_pandexo"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#engine.justdoit.run_pandexo" title="Permalink to this definition">¶</a></dt>
<dd><p>Submits multiple runs of pandexo in parallel.</p>
<p>Functionality: program contains functionality for running single or
multiple runs of PandExo</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>exo</strong> (<em>dict</em>) – exoplanet input dictionary</p></li>
<li><p><strong>inst</strong> (<em>dict</em><em> or </em><em>str</em><em> or </em><em>list of str</em>) – instrument input dictionary OR LIST of keys (for allowable keys see <cite>print_instruments()</cite></p></li>
<li><p><strong>param_space</strong> (<em>str</em><em> or </em><em>0</em>) – (Optional) Default is 0 = no exoplanet parameter space. To run through a parameter
specify which one need to specify two keys from exo dict with + in between.
i.e. observation+fraction
star+temp
planet+exopath</p></li>
<li><p><strong>param_range</strong> (<em>list of str</em><em> or </em><em>list of float</em>) – (Optional) Default = 0 An array or list over which to run the parameters space.
i.e. array of temperatures if running through stellar temp or
array of files if running through planet models. Must specify param_space
if using this.</p></li>
<li><p><strong>save_file</strong> (<em>bool</em>) – (Optional) Default = True saves file, False does not</p></li>
<li><p><strong>output_path</strong> (<em>str</em>) – (Optional) Defaults to current working directory</p></li>
<li><p><strong>output_file</strong> (<em>str</em>) – (Optional) Default is “singlerun.p” for single runs, “param_space.p” for exo parameter runs
or “instrument_run.p” for instrument parameter space runs.</p></li>
<li><p><strong>verbose</strong> (<em>bool</em>) – (Optional) For single runs, if false, it turns off all print statements. For parameter space
runs it is defaulted to never print statements out.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>For single run output will just be a single PandExo output dictionary
<a class="reference external" href="https://github.com/natashabatalha/PandExo/wiki/PandExo-Output">https://github.com/natashabatalha/PandExo/wiki/PandExo-Output</a>
For multiple runs the output will be organized into a list with each
a dictionary named by whatever you are looping through
i.e. [{‘First temp’: PandExoDict}, {‘Second temp’: PandExoDict}, etc..]</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
<p class="rubric">Example</p>
<p>For single run:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="n">run_pandexo</span><span class="p">(</span><span class="n">exo_dict</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;MIRI LRS&#39;</span><span class="p">])</span>
</pre></div>
</div>
<p>For multiple instruments:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="n">run_pandexo</span><span class="p">(</span><span class="n">exo_dict</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;MIRI LRS&#39;</span><span class="p">,</span><span class="s1">&#39;NIRSpec G395H&#39;</span><span class="p">])</span>
</pre></div>
</div>
<p>Loop through a exoplanet parameter (stellar magnitude):</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="n">run_pandexo</span><span class="p">(</span><span class="n">exo_dict</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;NIRSpec G395M&#39;</span><span class="p">],</span>
<span class="go">        param_space =&#39;star+mag&#39;,param_range = np.linspace(6,10,5))</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="engine.justdoit.run_param_space">
<code class="sig-prename descclassname">engine.justdoit.</code><code class="sig-name descname">run_param_space</code><span class="sig-paren">(</span><em class="sig-param">i</em>, <em class="sig-param">exo</em>, <em class="sig-param">inst</em>, <em class="sig-param">param_space</em>, <em class="sig-param">verbose=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/engine/justdoit.html#run_param_space"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#engine.justdoit.run_param_space" title="Permalink to this definition">¶</a></dt>
<dd><p>Changes exo dictionary and submits run</p>
<p>This function is used to reset the exo dictionary based on what parameter
is being looped over and submits run to <cite>wrapper</cite> so that all the jobs
are run in parallel</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>i</strong> (<em>str</em><em> or </em><em>float</em>) – Can be either a str or float based on what you are looping through (str for
filenames, float for stellar temps, float for magnitudes, etc)</p></li>
<li><p><strong>exo</strong> (<em>dict</em>) – Exoplanet dictionary which can be loaded in and editted through <cite>load_exo_dict</cite></p></li>
<li><p><strong>inst</strong> (<em>str</em>) – Key which indicates with instrument</p></li>
<li><p><strong>param_space</strong> (<em>str</em>) – Set of keys within exo_dict to indicate which parameter to loop through.
Should be in the format of “first level of dict”+”second level of dict”.
For example, for stellar temp <cite>param_space</cite> would be “star+temp”</p></li>
<li><p><strong>verbose</strong> (<em>bool</em>) – (Optional) prints out checkpoints. Assuming the user does not want a load of
print statements for parallel runs</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Dictionary with output of pandexo. Key is the value of the parameter that was
looped through.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="engine.justdoit.subarrays">
<code class="sig-prename descclassname">engine.justdoit.</code><code class="sig-name descname">subarrays</code><span class="sig-paren">(</span><em class="sig-param">inst</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/engine/justdoit.html#subarrays"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#engine.justdoit.subarrays" title="Permalink to this definition">¶</a></dt>
<dd><p>function to show availalble subarrays and their times (in secons)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>inst</strong> (<em>str</em>) – string of either niriss, nirspec, miri or nircam</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>dictionary with name of subarray as keys and time in seconds as entry</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-engine.justplotit">
<span id="engine-justplotit"></span><h2>engine.justplotit<a class="headerlink" href="#module-engine.justplotit" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="engine.justplotit.bin_wave_to_R">
<code class="sig-prename descclassname">engine.justplotit.</code><code class="sig-name descname">bin_wave_to_R</code><span class="sig-paren">(</span><em class="sig-param">w</em>, <em class="sig-param">R</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/engine/justplotit.html#bin_wave_to_R"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#engine.justplotit.bin_wave_to_R" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates new wavelength axis at specified resolution</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>w</strong> (<em>list of float</em><em> or </em><em>numpy array of float</em>) – Wavelength axis to be rebinned</p></li>
<li><p><strong>R</strong> (<em>float</em><em> or </em><em>int</em>) – Resolution to bin axis to</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>New wavelength axis at specified resolution</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>list of float</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">newwave</span> <span class="o">=</span> <span class="n">bin_wave_to_R</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">1000</span><span class="p">),</span> <span class="mi">10</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">newwave</span><span class="p">))</span>
<span class="go">11</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="engine.justplotit.hst_simulated_lightcurve">
<code class="sig-prename descclassname">engine.justplotit.</code><code class="sig-name descname">hst_simulated_lightcurve</code><span class="sig-paren">(</span><em class="sig-param">result_dict</em>, <em class="sig-param">plot=True</em>, <em class="sig-param">output_file='hsttime.html'</em>, <em class="sig-param">model=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/engine/justplotit.html#hst_simulated_lightcurve"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#engine.justplotit.hst_simulated_lightcurve" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot simulated HST light curves (in fluece) for earliest and latest start times</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>result_dict</strong> (<em>dict</em>) – Dictionary from pandexo output.</p></li>
<li><p><strong>plot</strong> (<em>bool</em>) – (Optional) True renders plot, False does not. Default=True</p></li>
<li><p><strong>model</strong> (<em>bool</em>) – (Optional) Plot model under data. Default=True</p></li>
<li><p><strong>output_file</strong> (<em>str</em>) – (Optional) Default = ‘hsttime.html’</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>obsphase1</strong> (<em>numpy array</em>) – earliest start time</p></li>
<li><p><strong>counts1</strong> (<em>numpy array</em>) – white light curve in fluence (e/pixel)</p></li>
<li><p><strong>obsphase2</strong> (<em>numpy array</em>) – latest start time</p></li>
<li><p><strong>counts2</strong> (<em>numpy array</em>) – white light curve in fluence (e/pixel)</p></li>
<li><p><strong>rms</strong> (<em>numpy array</em>) – 1D rms noise</p></li>
</ul>
</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#engine.justplotit.hst_spec" title="engine.justplotit.hst_spec"><code class="xref py py-func docutils literal notranslate"><span class="pre">hst_spec()</span></code></a></p>
</div>
</dd></dl>

<dl class="function">
<dt id="engine.justplotit.hst_spec">
<code class="sig-prename descclassname">engine.justplotit.</code><code class="sig-name descname">hst_spec</code><span class="sig-paren">(</span><em class="sig-param">result_dict</em>, <em class="sig-param">plot=True</em>, <em class="sig-param">output_file='hstspec.html'</em>, <em class="sig-param">model=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/engine/justplotit.html#hst_spec"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#engine.justplotit.hst_spec" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot 1d spec with error bars for hst</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>result_dict</strong> (<em>dict</em>) – Dictionary from pandexo output.</p></li>
<li><p><strong>plot</strong> (<em>bool</em>) – (Optional) True renders plot, False does not. Default=True</p></li>
<li><p><strong>model</strong> (<em>bool</em>) – (Optional) Plot model under data. Default=True</p></li>
<li><p><strong>output_file</strong> (<em>str</em>) – (Optional) Default = ‘hstspec.html’</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>x</strong> (<em>numpy array</em>) – micron</p></li>
<li><p><strong>y</strong> (<em>numpy array</em>) – 1D spec fp/f* or rp^2/r*^2</p></li>
<li><p><strong>e</strong> (<em>numpy array</em>) – 1D rms noise</p></li>
<li><p><strong>modelx</strong> (<em>numpy array</em>) – micron</p></li>
<li><p><strong>modely</strong> (<em>numpy array</em>) – 1D spec fp/f* or rp^2/r*^2</p></li>
</ul>
</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#engine.justplotit.hst_time" title="engine.justplotit.hst_time"><code class="xref py py-func docutils literal notranslate"><span class="pre">hst_time()</span></code></a></p>
</div>
</dd></dl>

<dl class="function">
<dt id="engine.justplotit.hst_time">
<code class="sig-prename descclassname">engine.justplotit.</code><code class="sig-name descname">hst_time</code><span class="sig-paren">(</span><em class="sig-param">result_dict</em>, <em class="sig-param">plot=True</em>, <em class="sig-param">output_file='hsttime.html'</em>, <em class="sig-param">model=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/engine/justplotit.html#hst_time"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#engine.justplotit.hst_time" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot earliest and latest start times for hst observation</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>result_dict</strong> (<em>dict</em>) – Dictionary from pandexo output.</p></li>
<li><p><strong>plot</strong> (<em>bool</em>) – (Optional) True renders plot, False does not. Default=True</p></li>
<li><p><strong>model</strong> (<em>bool</em>) – (Optional) Plot model under data. Default=True</p></li>
<li><p><strong>output_file</strong> (<em>str</em>) – (Optional) Default = ‘hsttime.html’</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>obsphase1</strong> (<em>numpy array</em>) – earliest start time</p></li>
<li><p><strong>obstr1</strong> (<em>numpy array</em>) – white light curve</p></li>
<li><p><strong>obsphase2</strong> (<em>numpy array</em>) – latest start time</p></li>
<li><p><strong>obstr2</strong> (<em>numpy array</em>) – white light curve</p></li>
<li><p><strong>rms</strong> (<em>numpy array</em>) – 1D rms noise</p></li>
</ul>
</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#engine.justplotit.hst_spec" title="engine.justplotit.hst_spec"><code class="xref py py-func docutils literal notranslate"><span class="pre">hst_spec()</span></code></a></p>
</div>
</dd></dl>

<dl class="function">
<dt id="engine.justplotit.jwst_1d_bkg">
<code class="sig-prename descclassname">engine.justplotit.</code><code class="sig-name descname">jwst_1d_bkg</code><span class="sig-paren">(</span><em class="sig-param">result_dict</em>, <em class="sig-param">plot=True</em>, <em class="sig-param">output_file='bkg.html'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/engine/justplotit.html#jwst_1d_bkg"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#engine.justplotit.jwst_1d_bkg" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot background</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>result_dict</strong> (<em>dict</em>) – Dictionary from pandexo output. If parameter space was run in run_pandexo
make sure to restructure the input as a list of dictionaries without they key words
that run_pandexo assigns.</p></li>
<li><p><strong>plot</strong> (<em>bool</em>) – (Optional) True renders plot, Flase does not. Default=True</p></li>
<li><p><strong>output_file</strong> (<em>str</em>) – (Optional) Default = bkt.html</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>x</strong> (<em>numpy array</em>) – micron</p></li>
<li><p><strong>y</strong> (<em>numpy array</em>) – 1D bakground e/s</p></li>
</ul>
</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#engine.justplotit.jwst_1d_spec" title="engine.justplotit.jwst_1d_spec"><code class="xref py py-func docutils literal notranslate"><span class="pre">jwst_1d_spec()</span></code></a>, <a class="reference internal" href="#engine.justplotit.jwst_noise" title="engine.justplotit.jwst_noise"><code class="xref py py-func docutils literal notranslate"><span class="pre">jwst_noise()</span></code></a>, <a class="reference internal" href="#engine.justplotit.jwst_1d_flux" title="engine.justplotit.jwst_1d_flux"><code class="xref py py-func docutils literal notranslate"><span class="pre">jwst_1d_flux()</span></code></a>, <a class="reference internal" href="#engine.justplotit.jwst_1d_snr" title="engine.justplotit.jwst_1d_snr"><code class="xref py py-func docutils literal notranslate"><span class="pre">jwst_1d_snr()</span></code></a>, <a class="reference internal" href="#engine.justplotit.jwst_2d_det" title="engine.justplotit.jwst_2d_det"><code class="xref py py-func docutils literal notranslate"><span class="pre">jwst_2d_det()</span></code></a>, <a class="reference internal" href="#engine.justplotit.jwst_2d_sat" title="engine.justplotit.jwst_2d_sat"><code class="xref py py-func docutils literal notranslate"><span class="pre">jwst_2d_sat()</span></code></a></p>
</div>
</dd></dl>

<dl class="function">
<dt id="engine.justplotit.jwst_1d_flux">
<code class="sig-prename descclassname">engine.justplotit.</code><code class="sig-name descname">jwst_1d_flux</code><span class="sig-paren">(</span><em class="sig-param">result_dict</em>, <em class="sig-param">plot=True</em>, <em class="sig-param">output_file='flux.html'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/engine/justplotit.html#jwst_1d_flux"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#engine.justplotit.jwst_1d_flux" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot flux rate in e/s</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>result_dict</strong> (<em>dict</em>) – Dictionary from pandexo output. If parameter space was run in run_pandexo
make sure to restructure the input as a list of dictionaries without they key words
that run_pandexo assigns.</p></li>
<li><p><strong>plot</strong> (<em>bool</em>) – (Optional) True renders plot, Flase does not. Default=True</p></li>
<li><p><strong>output_file</strong> (<em>str</em>) – (Optional) Default = ‘flux.html’</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>x</strong> (<em>numpy array</em>) – micron</p></li>
<li><p><strong>y</strong> (<em>numpy array</em>) – 1D flux rate in electrons/s</p></li>
</ul>
</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#engine.justplotit.jwst_1d_spec" title="engine.justplotit.jwst_1d_spec"><code class="xref py py-func docutils literal notranslate"><span class="pre">jwst_1d_spec()</span></code></a>, <a class="reference internal" href="#engine.justplotit.jwst_1d_bkg" title="engine.justplotit.jwst_1d_bkg"><code class="xref py py-func docutils literal notranslate"><span class="pre">jwst_1d_bkg()</span></code></a>, <a class="reference internal" href="#engine.justplotit.jwst_noise" title="engine.justplotit.jwst_noise"><code class="xref py py-func docutils literal notranslate"><span class="pre">jwst_noise()</span></code></a>, <a class="reference internal" href="#engine.justplotit.jwst_1d_snr" title="engine.justplotit.jwst_1d_snr"><code class="xref py py-func docutils literal notranslate"><span class="pre">jwst_1d_snr()</span></code></a>, <a class="reference internal" href="#engine.justplotit.jwst_2d_det" title="engine.justplotit.jwst_2d_det"><code class="xref py py-func docutils literal notranslate"><span class="pre">jwst_2d_det()</span></code></a>, <a class="reference internal" href="#engine.justplotit.jwst_2d_sat" title="engine.justplotit.jwst_2d_sat"><code class="xref py py-func docutils literal notranslate"><span class="pre">jwst_2d_sat()</span></code></a></p>
</div>
</dd></dl>

<dl class="function">
<dt id="engine.justplotit.jwst_1d_snr">
<code class="sig-prename descclassname">engine.justplotit.</code><code class="sig-name descname">jwst_1d_snr</code><span class="sig-paren">(</span><em class="sig-param">result_dict</em>, <em class="sig-param">plot=True</em>, <em class="sig-param">output_file='snr.html'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/engine/justplotit.html#jwst_1d_snr"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#engine.justplotit.jwst_1d_snr" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot SNR</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>result_dict</strong> (<em>dict</em>) – Dictionary from pandexo output. If parameter space was run in run_pandexo
make sure to restructure the input as a list of dictionaries without they key words
that run_pandexo assigns.</p></li>
<li><p><strong>plot</strong> (<em>bool</em>) – (Optional) True renders plot, Flase does not. Default=True</p></li>
<li><p><strong>output_file</strong> (<em>str</em>) – (Optional) Default = ‘snr.html’</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>x</strong> (<em>numpy array</em>) – micron</p></li>
<li><p><strong>y</strong> (<em>numpy array</em>) – 1D SNR</p></li>
</ul>
</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#engine.justplotit.jwst_1d_bkg" title="engine.justplotit.jwst_1d_bkg"><code class="xref py py-func docutils literal notranslate"><span class="pre">jwst_1d_bkg()</span></code></a>, <a class="reference internal" href="#engine.justplotit.jwst_noise" title="engine.justplotit.jwst_noise"><code class="xref py py-func docutils literal notranslate"><span class="pre">jwst_noise()</span></code></a>, <a class="reference internal" href="#engine.justplotit.jwst_1d_flux" title="engine.justplotit.jwst_1d_flux"><code class="xref py py-func docutils literal notranslate"><span class="pre">jwst_1d_flux()</span></code></a>, <a class="reference internal" href="#engine.justplotit.jwst_1d_spec" title="engine.justplotit.jwst_1d_spec"><code class="xref py py-func docutils literal notranslate"><span class="pre">jwst_1d_spec()</span></code></a>, <a class="reference internal" href="#engine.justplotit.jwst_2d_det" title="engine.justplotit.jwst_2d_det"><code class="xref py py-func docutils literal notranslate"><span class="pre">jwst_2d_det()</span></code></a>, <a class="reference internal" href="#engine.justplotit.jwst_2d_sat" title="engine.justplotit.jwst_2d_sat"><code class="xref py py-func docutils literal notranslate"><span class="pre">jwst_2d_sat()</span></code></a></p>
</div>
</dd></dl>

<dl class="function">
<dt id="engine.justplotit.jwst_1d_spec">
<code class="sig-prename descclassname">engine.justplotit.</code><code class="sig-name descname">jwst_1d_spec</code><span class="sig-paren">(</span><em class="sig-param">result_dict, model=True, title='Model + Data + Error Bars', output_file='data.html', legend=False, R=False, num_tran=False, plot_width=800, plot_height=400, x_range=[1, 10], y_range=None, plot=True, output_notebook=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/engine/justplotit.html#jwst_1d_spec"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#engine.justplotit.jwst_1d_spec" title="Permalink to this definition">¶</a></dt>
<dd><p>Plots 1d simulated spectrum and rebin or rescale for more transits</p>
<p>Plots 1d data points with model in the background (if wanted). Designed to read in exact
output of run_pandexo.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>result_dict</strong> (<em>dict</em><em> or </em><em>list of dict</em>) – Dictionary from pandexo output. If parameter space was run in run_pandexo
make sure to restructure the input as a list of dictionaries without they key words
that run_pandexo assigns.</p></li>
<li><p><strong>model</strong> (<em>bool</em>) – (Optional) True is default. True plots model, False does not plot model</p></li>
<li><p><strong>title</strong> (<em>str</em>) – (Optional) Title of plot. Default is “Model + Data + Error Bars”.</p></li>
<li><p><strong>output_file</strong> (<em>str</em>) – (Optional) name of html file for you bokeh plot. After bokeh plot is rendered you will
have the option to save as png.</p></li>
<li><p><strong>legend</strong> (<em>bool</em>) – (Optional) Default is False. True, plots legend.</p></li>
<li><p><strong>R</strong> (<em>float</em>) – (Optional) Rebin data from native instrument resolution to specified resolution. Dafult is False,
no binning. Here I adopt R as w[1]/(w[2] - w[0]) to maintain consistency with <cite>pandeia.engine</cite></p></li>
<li><p><strong>num_tran</strong> (<em>float</em>) – (Optional) Scales data by number of transits to improve error by sqrt(<cite>num_trans</cite>)</p></li>
<li><p><strong>plot_width</strong> (<em>int</em>) – (Optional) Sets the width of the plot. Default = 800</p></li>
<li><p><strong>plot_height</strong> (<em>int</em>) – (Optional) Sets the height of the plot. Default = 400</p></li>
<li><p><strong>y_range</strong> (<em>list of int</em>) – (Optional) sets y range of plot. Defaut is +- 10% of max and min</p></li>
<li><p><strong>x_range</strong> (<em>list of int</em>) – (Optional) Sets x range of plot. Default = [1,10]</p></li>
<li><p><strong>plot</strong> (<em>bool</em>) – (Optional) Supresses the plot if not wanted (Default = True)</p></li>
<li><p><strong>out_notebook</strong> (<em>bool</em>) – (Optional) Output notebook. Default is false, if true, outputs in the notebook</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>x,y,e</strong> – Returns wave axis, spectrum and associated error in list format. x[0] will be correspond
to the first dictionary input, x[1] to the second, etc.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>list of arrays</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">jwst_1d_spec</span><span class="p">(</span><span class="n">result_dict</span><span class="p">,</span> <span class="n">num_tran</span> <span class="o">=</span> <span class="mi">3</span><span class="p">,</span> <span class="n">R</span> <span class="o">=</span> <span class="mi">35</span><span class="p">)</span> <span class="c1">#for a single plot</span>
</pre></div>
</div>
<p>If you wanted to save each of the axis that were being plotted:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="n">e</span> <span class="o">=</span> <span class="n">jwst_1d_data</span><span class="p">([</span><span class="n">result_dict1</span><span class="p">,</span> <span class="n">result_dict2</span><span class="p">],</span> <span class="n">model</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">num_tran</span> <span class="o">=</span> <span class="mi">5</span><span class="p">,</span> <span class="n">R</span> <span class="o">=</span> <span class="mi">100</span><span class="p">)</span> <span class="c1">#for multiple</span>
</pre></div>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#engine.justplotit.jwst_noise" title="engine.justplotit.jwst_noise"><code class="xref py py-func docutils literal notranslate"><span class="pre">jwst_noise()</span></code></a>, <a class="reference internal" href="#engine.justplotit.jwst_1d_bkg" title="engine.justplotit.jwst_1d_bkg"><code class="xref py py-func docutils literal notranslate"><span class="pre">jwst_1d_bkg()</span></code></a>, <a class="reference internal" href="#engine.justplotit.jwst_1d_flux" title="engine.justplotit.jwst_1d_flux"><code class="xref py py-func docutils literal notranslate"><span class="pre">jwst_1d_flux()</span></code></a>, <a class="reference internal" href="#engine.justplotit.jwst_1d_snr" title="engine.justplotit.jwst_1d_snr"><code class="xref py py-func docutils literal notranslate"><span class="pre">jwst_1d_snr()</span></code></a>, <a class="reference internal" href="#engine.justplotit.jwst_2d_det" title="engine.justplotit.jwst_2d_det"><code class="xref py py-func docutils literal notranslate"><span class="pre">jwst_2d_det()</span></code></a>, <a class="reference internal" href="#engine.justplotit.jwst_2d_sat" title="engine.justplotit.jwst_2d_sat"><code class="xref py py-func docutils literal notranslate"><span class="pre">jwst_2d_sat()</span></code></a></p>
</div>
</dd></dl>

<dl class="function">
<dt id="engine.justplotit.jwst_2d_det">
<code class="sig-prename descclassname">engine.justplotit.</code><code class="sig-name descname">jwst_2d_det</code><span class="sig-paren">(</span><em class="sig-param">result_dict</em>, <em class="sig-param">plot=True</em>, <em class="sig-param">output_file='det2d.html'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/engine/justplotit.html#jwst_2d_det"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#engine.justplotit.jwst_2d_det" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot 2d detector image</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>result_dict</strong> (<em>dict</em>) – Dictionary from pandexo output. If parameter space was run in run_pandexo
make sure to restructure the input as a list of dictionaries without they key words
that run_pandexo assigns.</p></li>
<li><p><strong>plot</strong> (<em>bool</em>) – (Optional) True renders plot, Flase does not. Default=True</p></li>
<li><p><strong>output_file</strong> (<em>str</em>) – (Optional) Default = ‘det2d.html’</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>2D array of out of transit detector simulation</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>numpy array</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#engine.justplotit.jwst_1d_spec" title="engine.justplotit.jwst_1d_spec"><code class="xref py py-func docutils literal notranslate"><span class="pre">jwst_1d_spec()</span></code></a>, <a class="reference internal" href="#engine.justplotit.jwst_1d_bkg" title="engine.justplotit.jwst_1d_bkg"><code class="xref py py-func docutils literal notranslate"><span class="pre">jwst_1d_bkg()</span></code></a>, <a class="reference internal" href="#engine.justplotit.jwst_1d_flux" title="engine.justplotit.jwst_1d_flux"><code class="xref py py-func docutils literal notranslate"><span class="pre">jwst_1d_flux()</span></code></a>, <a class="reference internal" href="#engine.justplotit.jwst_1d_snr" title="engine.justplotit.jwst_1d_snr"><code class="xref py py-func docutils literal notranslate"><span class="pre">jwst_1d_snr()</span></code></a>, <a class="reference internal" href="#engine.justplotit.jwst_noise" title="engine.justplotit.jwst_noise"><code class="xref py py-func docutils literal notranslate"><span class="pre">jwst_noise()</span></code></a>, <a class="reference internal" href="#engine.justplotit.jwst_2d_sat" title="engine.justplotit.jwst_2d_sat"><code class="xref py py-func docutils literal notranslate"><span class="pre">jwst_2d_sat()</span></code></a></p>
</div>
</dd></dl>

<dl class="function">
<dt id="engine.justplotit.jwst_2d_sat">
<code class="sig-prename descclassname">engine.justplotit.</code><code class="sig-name descname">jwst_2d_sat</code><span class="sig-paren">(</span><em class="sig-param">result_dict</em>, <em class="sig-param">plot=True</em>, <em class="sig-param">output_file='sat2d.html'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/engine/justplotit.html#jwst_2d_sat"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#engine.justplotit.jwst_2d_sat" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot 2d saturation profile</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>result_dict</strong> (<em>dict</em>) – Dictionary from pandexo output. If parameter space was run in run_pandexo
make sure to restructure the input as a list of dictionaries without they key words
that run_pandexo assigns.</p></li>
<li><p><strong>plot</strong> (<em>bool</em>) – (Optional) True renders plot, Flase does not. Default=True</p></li>
<li><p><strong>output_file</strong> (<em>str</em>) – (Optional) Default = ‘sat2d.html’</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>2D array of out of transit detector simulation</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>numpy array</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#engine.justplotit.jwst_1d_spec" title="engine.justplotit.jwst_1d_spec"><code class="xref py py-func docutils literal notranslate"><span class="pre">jwst_1d_spec()</span></code></a>, <a class="reference internal" href="#engine.justplotit.jwst_1d_bkg" title="engine.justplotit.jwst_1d_bkg"><code class="xref py py-func docutils literal notranslate"><span class="pre">jwst_1d_bkg()</span></code></a>, <a class="reference internal" href="#engine.justplotit.jwst_1d_flux" title="engine.justplotit.jwst_1d_flux"><code class="xref py py-func docutils literal notranslate"><span class="pre">jwst_1d_flux()</span></code></a>, <a class="reference internal" href="#engine.justplotit.jwst_1d_snr" title="engine.justplotit.jwst_1d_snr"><code class="xref py py-func docutils literal notranslate"><span class="pre">jwst_1d_snr()</span></code></a>, <a class="reference internal" href="#engine.justplotit.jwst_2d_det" title="engine.justplotit.jwst_2d_det"><code class="xref py py-func docutils literal notranslate"><span class="pre">jwst_2d_det()</span></code></a>, <a class="reference internal" href="#engine.justplotit.jwst_noise" title="engine.justplotit.jwst_noise"><code class="xref py py-func docutils literal notranslate"><span class="pre">jwst_noise()</span></code></a></p>
</div>
</dd></dl>

<dl class="function">
<dt id="engine.justplotit.jwst_noise">
<code class="sig-prename descclassname">engine.justplotit.</code><code class="sig-name descname">jwst_noise</code><span class="sig-paren">(</span><em class="sig-param">result_dict</em>, <em class="sig-param">plot=True</em>, <em class="sig-param">output_file='noise.html'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/engine/justplotit.html#jwst_noise"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#engine.justplotit.jwst_noise" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot background</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>result_dict</strong> (<em>dict</em>) – Dictionary from pandexo output. If parameter space was run in run_pandexo
make sure to restructure the input as a list of dictionaries without they key words
that run_pandexo assigns.</p></li>
<li><p><strong>plot</strong> (<em>bool</em>) – (Optional) True renders plot, Flase does not. Default=True</p></li>
<li><p><strong>output_file</strong> (<em>str</em>) – (Optional) Default = ‘noise.html’</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>x</strong> (<em>numpy array</em>) – micron</p></li>
<li><p><strong>y</strong> (<em>numpy array</em>) – 1D noise (ppm)</p></li>
</ul>
</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#engine.justplotit.jwst_1d_spec" title="engine.justplotit.jwst_1d_spec"><code class="xref py py-func docutils literal notranslate"><span class="pre">jwst_1d_spec()</span></code></a>, <a class="reference internal" href="#engine.justplotit.jwst_1d_bkg" title="engine.justplotit.jwst_1d_bkg"><code class="xref py py-func docutils literal notranslate"><span class="pre">jwst_1d_bkg()</span></code></a>, <a class="reference internal" href="#engine.justplotit.jwst_1d_flux" title="engine.justplotit.jwst_1d_flux"><code class="xref py py-func docutils literal notranslate"><span class="pre">jwst_1d_flux()</span></code></a>, <a class="reference internal" href="#engine.justplotit.jwst_1d_snr" title="engine.justplotit.jwst_1d_snr"><code class="xref py py-func docutils literal notranslate"><span class="pre">jwst_1d_snr()</span></code></a>, <a class="reference internal" href="#engine.justplotit.jwst_2d_det" title="engine.justplotit.jwst_2d_det"><code class="xref py py-func docutils literal notranslate"><span class="pre">jwst_2d_det()</span></code></a>, <a class="reference internal" href="#engine.justplotit.jwst_2d_sat" title="engine.justplotit.jwst_2d_sat"><code class="xref py py-func docutils literal notranslate"><span class="pre">jwst_2d_sat()</span></code></a></p>
</div>
</dd></dl>

<dl class="function">
<dt id="engine.justplotit.uniform_tophat_mean">
<code class="sig-prename descclassname">engine.justplotit.</code><code class="sig-name descname">uniform_tophat_mean</code><span class="sig-paren">(</span><em class="sig-param">xnew</em>, <em class="sig-param">x</em>, <em class="sig-param">y</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/engine/justplotit.html#uniform_tophat_mean"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#engine.justplotit.uniform_tophat_mean" title="Permalink to this definition">¶</a></dt>
<dd><p>Adapted from Mike R. Line to rebin spectra</p>
<p>Takes average of group of points in bin</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>xnew</strong> (<em>list of float</em><em> or </em><em>numpy array of float</em>) – New wavelength grid to rebin to</p></li>
<li><p><strong>x</strong> (<em>list of float</em><em> or </em><em>numpy array of float</em>) – Old wavelength grid to get rid of</p></li>
<li><p><strong>y</strong> (<em>list of float</em><em> or </em><em>numpy array of float</em>) – New rebinned y axis</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>new y axis</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>array of floats</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">oldgrid</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">100</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">y</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span><span class="o">+</span><span class="mf">10.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">newy</span> <span class="o">=</span> <span class="n">uniform_tophat_sum</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">),</span> <span class="n">oldgrid</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">newy</span>
<span class="go">array([ 240.,  250.,  130.])</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="engine.justplotit.uniform_tophat_sum">
<code class="sig-prename descclassname">engine.justplotit.</code><code class="sig-name descname">uniform_tophat_sum</code><span class="sig-paren">(</span><em class="sig-param">xnew</em>, <em class="sig-param">x</em>, <em class="sig-param">y</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/engine/justplotit.html#uniform_tophat_sum"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#engine.justplotit.uniform_tophat_sum" title="Permalink to this definition">¶</a></dt>
<dd><p>Adapted from Mike R. Line to rebin spectra</p>
<p>Takes sum of group of points in bin of wave points
:param xnew: New wavelength grid to rebin to
:type xnew: list of float or numpy array of float
:param x: Old wavelength grid to get rid of
:type x: list of float or numpy array of float
:param y: New rebinned y axis
:type y: list of float or numpy array of float</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>new y axis</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>array of floats</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">oldgrid</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">100</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">y</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span><span class="o">+</span><span class="mf">10.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">newy</span> <span class="o">=</span> <span class="n">uniform_tophat_sum</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">),</span> <span class="n">oldgrid</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">newy</span>
<span class="go">array([ 240.,  250.,  130.])</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="module-engine.bintools">
<span id="engine-bintools"></span><h2>engine.bintools<a class="headerlink" href="#module-engine.bintools" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="engine.bintools.bin_wave_to_R">
<code class="sig-prename descclassname">engine.bintools.</code><code class="sig-name descname">bin_wave_to_R</code><span class="sig-paren">(</span><em class="sig-param">w</em>, <em class="sig-param">R</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/engine/bintools.html#bin_wave_to_R"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#engine.bintools.bin_wave_to_R" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates new wavelength axis at specified resolution</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>w</strong> (<em>list of float</em><em> or </em><em>numpy array of float</em>) – Wavelength axis to be rebinned</p></li>
<li><p><strong>R</strong> (<em>float</em><em> or </em><em>int</em>) – Resolution to bin axis to</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>New wavelength axis at specified resolution</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>list of float</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">newwave</span> <span class="o">=</span> <span class="n">bin_wave_to_R</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">1000</span><span class="p">),</span> <span class="mi">10</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">((</span><span class="nb">len</span><span class="p">(</span><span class="n">newwave</span><span class="p">)))</span>
<span class="go">11</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="engine.bintools.binning">
<code class="sig-prename descclassname">engine.bintools.</code><code class="sig-name descname">binning</code><span class="sig-paren">(</span><em class="sig-param">x</em>, <em class="sig-param">y</em>, <em class="sig-param">dy=None</em>, <em class="sig-param">binwidth=None</em>, <em class="sig-param">r=None</em>, <em class="sig-param">newx=None</em>, <em class="sig-param">log=False</em>, <em class="sig-param">nan=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/engine/bintools.html#binning"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#engine.bintools.binning" title="Permalink to this definition">¶</a></dt>
<dd><p>This contains functionality for binning spectroscopy given an x, y and set of errors.
This is similar to IDL’s regroup but in Python (obviously). Note that y is binned as the
mean(ordinates) instead of sum(ordinates), as you would want for cmputing flux in a set of
pixels. User can input a constant resolution, constant binwidth or provide a user defined
bin. The error is computed as sum(sqrt(sig1^2, sig2^2, sig3^2) )/3, for example
if there were 3 points to bin.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x</strong> (<em>array</em><em>, </em><em>float</em>) – vector containing abcissae.</p></li>
<li><p><strong>y</strong> (<em>array</em><em>,</em><em>float</em>) – vector containing ordinates.</p></li>
<li><p><strong>dy</strong> (<em>array</em><em>,</em><em>float</em>) – (Optional) errors on ordinates, can be float or array</p></li>
<li><p><strong>binwidth</strong> (<em>float</em>) – (Optional) constant bin width in same units as x</p></li>
<li><p><strong>r</strong> (<em>float</em>) – (Optional) constant resolution to bin to. R is defined as w[1]/(w[2] - w[0])
to maintain consistency with <cite>pandeia.engine</cite></p></li>
<li><p><strong>newx</strong> (<em>array</em><em>, </em><em>float</em>) – (Optional) new x axis to bin to</p></li>
<li><p><strong>log</strong> (<em>bool</em>) – (Optional) computes equal bin spacing logarithmically, Default = False</p></li>
<li><p><strong>sort</strong> (<em>bool</em>) – (Optional) sort into ascending order of x, default = True</p></li>
<li><p><strong>nan</strong> (<em>bool</em>) – (Optional) if true, this returns nan values where no points exist in a given bin
Otherwise, all nans are dropped</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>bin_y : binned ordinates
bin_x : binned abcissae
bin_edge : edges of bins (always contains len(bin_x)+1 elements)
bin_dy : error on ordinate bin
bin_n : number of points contained in each bin</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">bintools</span> <span class="kn">import</span> <span class="n">binning</span>
</pre></div>
</div>
<p>If you want constant resolution (using output dict from PandExo):</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">pandexo</span> <span class="o">=</span> <span class="n">result</span><span class="p">[</span><span class="s1">&#39;FinalSpectrum&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">err</span> <span class="o">=</span> <span class="n">pandexo</span><span class="p">[</span><span class="s1">&#39;wave&#39;</span><span class="p">],</span> <span class="n">pandexo</span><span class="p">[</span><span class="s1">&#39;spectrum_w_rand&#39;</span><span class="p">],</span> <span class="n">pandexo</span><span class="p">[</span><span class="s1">&#39;error_w_floor&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">final</span> <span class="o">=</span> <span class="n">binning</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">dy</span> <span class="o">=</span> <span class="n">err</span><span class="p">,</span> <span class="n">r</span> <span class="o">=</span><span class="mi">100</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">newx</span><span class="p">,</span> <span class="n">newy</span><span class="p">,</span> <span class="n">newerr</span> <span class="o">=</span> <span class="n">final</span><span class="p">[</span><span class="s1">&#39;bin_x&#39;</span><span class="p">],</span> <span class="n">final</span><span class="p">[</span><span class="s1">&#39;bin_y&#39;</span><span class="p">],</span> <span class="n">final</span><span class="p">[</span><span class="s1">&#39;bin_dy&#39;</span><span class="p">]</span>
</pre></div>
</div>
<p>If you have a x axis that you want PandExo output to be binned to</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">newx</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">10</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">final</span> <span class="o">=</span> <span class="n">binning</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">dy</span> <span class="o">=</span> <span class="n">err</span><span class="p">,</span> <span class="n">newx</span> <span class="o">=</span><span class="n">newx</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">newx</span><span class="p">,</span> <span class="n">newy</span><span class="p">,</span> <span class="n">newerr</span> <span class="o">=</span> <span class="n">final</span><span class="p">[</span><span class="s1">&#39;bin_x&#39;</span><span class="p">],</span> <span class="n">final</span><span class="p">[</span><span class="s1">&#39;bin_y&#39;</span><span class="p">],</span> <span class="n">final</span><span class="p">[</span><span class="s1">&#39;bin_dy&#39;</span><span class="p">]</span>
</pre></div>
</div>
<p>If you want a constant bin width and want everything to be spaced linearly</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">final</span> <span class="o">=</span> <span class="n">binning</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">dy</span> <span class="o">=</span> <span class="n">err</span><span class="p">,</span> <span class="n">binwidth</span> <span class="o">=</span> <span class="mf">0.1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">newx</span><span class="p">,</span> <span class="n">newy</span><span class="p">,</span> <span class="n">newerr</span> <span class="o">=</span> <span class="n">final</span><span class="p">[</span><span class="s1">&#39;bin_x&#39;</span><span class="p">],</span> <span class="n">final</span><span class="p">[</span><span class="s1">&#39;bin_y&#39;</span><span class="p">],</span> <span class="n">final</span><span class="p">[</span><span class="s1">&#39;bin_dy&#39;</span><span class="p">]</span>
</pre></div>
</div>
<p>If you want constant bin width but want everything to spaced logarithmically</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">final</span> <span class="o">=</span> <span class="n">binning</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">dy</span> <span class="o">=</span> <span class="n">err</span><span class="p">,</span> <span class="n">binwidth</span> <span class="o">=</span> <span class="mf">0.1</span><span class="p">,</span> <span class="n">log</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">newx</span><span class="p">,</span> <span class="n">newy</span><span class="p">,</span> <span class="n">newerr</span> <span class="o">=</span> <span class="n">final</span><span class="p">[</span><span class="s1">&#39;bin_x&#39;</span><span class="p">],</span> <span class="n">final</span><span class="p">[</span><span class="s1">&#39;bin_y&#39;</span><span class="p">],</span> <span class="n">final</span><span class="p">[</span><span class="s1">&#39;bin_dy&#39;</span><span class="p">]</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="engine.bintools.uniform_tophat_mean">
<code class="sig-prename descclassname">engine.bintools.</code><code class="sig-name descname">uniform_tophat_mean</code><span class="sig-paren">(</span><em class="sig-param">newx</em>, <em class="sig-param">x</em>, <em class="sig-param">y</em>, <em class="sig-param">dy=None</em>, <em class="sig-param">nan=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/engine/bintools.html#uniform_tophat_mean"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#engine.bintools.uniform_tophat_mean" title="Permalink to this definition">¶</a></dt>
<dd><p>Adapted from Mike R. Line to rebin spectra</p>
<p>Takes mean of groups of points in certain wave bin</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>newx</strong> (<em>list of float</em><em> or </em><em>numpy array of float</em>) – New wavelength grid to rebin to</p></li>
<li><p><strong>x</strong> (<em>list of float</em><em> or </em><em>numpy array of float</em>) – Old wavelength grid to get rid of</p></li>
<li><p><strong>y</strong> (<em>list of float</em><em> or </em><em>numpy array of float</em>) – New rebinned y axis</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>new wavelength grid</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>array of floats</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">pandexo.engine.jwst</span> <span class="kn">import</span> <span class="n">uniform_tophat_sum</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">oldgrid</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">100</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">y</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span><span class="o">+</span><span class="mf">10.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">newy</span> <span class="o">=</span> <span class="n">uniform_tophat_sum</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">),</span> <span class="n">oldgrid</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">newy</span>
<span class="go">array([ 240.,  250.,  130.])</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="module-engine.run_online">
<span id="engine-run-online"></span><h2>engine.run_online<a class="headerlink" href="#module-engine.run_online" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="engine.run_online.AboutHandler">
<em class="property">class </em><code class="sig-prename descclassname">engine.run_online.</code><code class="sig-name descname">AboutHandler</code><span class="sig-paren">(</span><em class="sig-param">application: tornado.web.Application</em>, <em class="sig-param">request: tornado.httputil.HTTPServerRequest</em>, <em class="sig-param">**kwargs: Any</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/engine/run_online.html#AboutHandler"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#engine.run_online.AboutHandler" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#engine.run_online.BaseHandler" title="engine.run_online.BaseHandler"><code class="xref py py-class docutils literal notranslate"><span class="pre">engine.run_online.BaseHandler</span></code></a></p>
<dl class="method">
<dt id="engine.run_online.AboutHandler.get">
<code class="sig-name descname">get</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/engine/run_online.html#AboutHandler.get"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#engine.run_online.AboutHandler.get" title="Permalink to this definition">¶</a></dt>
<dd><p>Render about PandExo Page</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="engine.run_online.Application">
<em class="property">class </em><code class="sig-prename descclassname">engine.run_online.</code><code class="sig-name descname">Application</code><a class="reference internal" href="_modules/engine/run_online.html#Application"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#engine.run_online.Application" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">tornado.web.Application</span></code></p>
<p>Gobal settings of the server
This defines the global settings of the server. This parses out the
handlers, and includes settings for if ever we want to tie this to a
database.</p>
</dd></dl>

<dl class="class">
<dt id="engine.run_online.BaseHandler">
<em class="property">class </em><code class="sig-prename descclassname">engine.run_online.</code><code class="sig-name descname">BaseHandler</code><span class="sig-paren">(</span><em class="sig-param">application: tornado.web.Application</em>, <em class="sig-param">request: tornado.httputil.HTTPServerRequest</em>, <em class="sig-param">**kwargs: Any</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/engine/run_online.html#BaseHandler"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#engine.run_online.BaseHandler" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">tornado.web.RequestHandler</span></code></p>
<p>Logic to handle user information and database access might go here.</p>
<dl class="attribute">
<dt id="engine.run_online.BaseHandler.buffer">
<code class="sig-name descname">buffer</code><em class="property"> = {}</em><a class="headerlink" href="#engine.run_online.BaseHandler.buffer" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="engine.run_online.BaseHandler.executor">
<code class="sig-name descname">executor</code><em class="property"> = &lt;concurrent.futures.process.ProcessPoolExecutor object&gt;</em><a class="headerlink" href="#engine.run_online.BaseHandler.executor" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="engine.run_online.BaseHandler.write_error">
<code class="sig-name descname">write_error</code><span class="sig-paren">(</span><em class="sig-param">status_code</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/engine/run_online.html#BaseHandler.write_error"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#engine.run_online.BaseHandler.write_error" title="Permalink to this definition">¶</a></dt>
<dd><p>This renders a customized error page</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="engine.run_online.CalculationDownloadHandler">
<em class="property">class </em><code class="sig-prename descclassname">engine.run_online.</code><code class="sig-name descname">CalculationDownloadHandler</code><span class="sig-paren">(</span><em class="sig-param">application: tornado.web.Application</em>, <em class="sig-param">request: tornado.httputil.HTTPServerRequest</em>, <em class="sig-param">**kwargs: Any</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/engine/run_online.html#CalculationDownloadHandler"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#engine.run_online.CalculationDownloadHandler" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#engine.run_online.BaseHandler" title="engine.run_online.BaseHandler"><code class="xref py py-class docutils literal notranslate"><span class="pre">engine.run_online.BaseHandler</span></code></a></p>
<p>Handlers returning the downloaded data of a particular calculation task.
Handlers returning the status of a particular calculation task.</p>
<dl class="method">
<dt id="engine.run_online.CalculationDownloadHandler.get">
<code class="sig-name descname">get</code><span class="sig-paren">(</span><em class="sig-param">id</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/engine/run_online.html#CalculationDownloadHandler.get"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#engine.run_online.CalculationDownloadHandler.get" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="engine.run_online.CalculationDownloadPandInHandler">
<em class="property">class </em><code class="sig-prename descclassname">engine.run_online.</code><code class="sig-name descname">CalculationDownloadPandInHandler</code><span class="sig-paren">(</span><em class="sig-param">application: tornado.web.Application</em>, <em class="sig-param">request: tornado.httputil.HTTPServerRequest</em>, <em class="sig-param">**kwargs: Any</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/engine/run_online.html#CalculationDownloadPandInHandler"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#engine.run_online.CalculationDownloadPandInHandler" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#engine.run_online.BaseHandler" title="engine.run_online.BaseHandler"><code class="xref py py-class docutils literal notranslate"><span class="pre">engine.run_online.BaseHandler</span></code></a></p>
<p>Handlers returning the downloaded data of a particular calculation task.
Handlers returning the status of a particular calculation task.</p>
<dl class="method">
<dt id="engine.run_online.CalculationDownloadPandInHandler.get">
<code class="sig-name descname">get</code><span class="sig-paren">(</span><em class="sig-param">id</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/engine/run_online.html#CalculationDownloadPandInHandler.get"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#engine.run_online.CalculationDownloadPandInHandler.get" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="engine.run_online.CalculationNewHSTHandler">
<em class="property">class </em><code class="sig-prename descclassname">engine.run_online.</code><code class="sig-name descname">CalculationNewHSTHandler</code><span class="sig-paren">(</span><em class="sig-param">application: tornado.web.Application</em>, <em class="sig-param">request: tornado.httputil.HTTPServerRequest</em>, <em class="sig-param">**kwargs: Any</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/engine/run_online.html#CalculationNewHSTHandler"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#engine.run_online.CalculationNewHSTHandler" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#engine.run_online.BaseHandler" title="engine.run_online.BaseHandler"><code class="xref py py-class docutils literal notranslate"><span class="pre">engine.run_online.BaseHandler</span></code></a></p>
<p>This request handler deals with processing the form data and submitting
a new HST calculation task to the parallelized workers.</p>
<dl class="method">
<dt id="engine.run_online.CalculationNewHSTHandler.get">
<code class="sig-name descname">get</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/engine/run_online.html#CalculationNewHSTHandler.get"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#engine.run_online.CalculationNewHSTHandler.get" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="engine.run_online.CalculationNewHSTHandler.post">
<code class="sig-name descname">post</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/engine/run_online.html#CalculationNewHSTHandler.post"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#engine.run_online.CalculationNewHSTHandler.post" title="Permalink to this definition">¶</a></dt>
<dd><p>The post method contains the retured data from the form data (
accessed by using <cite>self.get_argument(…)</cite> for specific arguments,
or <cite>self.request.body</cite> to grab the entire returned object.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="engine.run_online.CalculationNewHandler">
<em class="property">class </em><code class="sig-prename descclassname">engine.run_online.</code><code class="sig-name descname">CalculationNewHandler</code><span class="sig-paren">(</span><em class="sig-param">application: tornado.web.Application</em>, <em class="sig-param">request: tornado.httputil.HTTPServerRequest</em>, <em class="sig-param">**kwargs: Any</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/engine/run_online.html#CalculationNewHandler"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#engine.run_online.CalculationNewHandler" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#engine.run_online.BaseHandler" title="engine.run_online.BaseHandler"><code class="xref py py-class docutils literal notranslate"><span class="pre">engine.run_online.BaseHandler</span></code></a></p>
<p>This request handler deals with processing the form data and submitting
a new calculation task to the parallelized workers.</p>
<dl class="method">
<dt id="engine.run_online.CalculationNewHandler.get">
<code class="sig-name descname">get</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/engine/run_online.html#CalculationNewHandler.get"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#engine.run_online.CalculationNewHandler.get" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="engine.run_online.CalculationNewHandler.post">
<code class="sig-name descname">post</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/engine/run_online.html#CalculationNewHandler.post"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#engine.run_online.CalculationNewHandler.post" title="Permalink to this definition">¶</a></dt>
<dd><p>The post method contains the returned data from the form data (
accessed by using <cite>self.get_argument(…)</cite> for specific arguments,
or <cite>self.request.body</cite> to grab the entire returned object.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="engine.run_online.CalculationStatusHSTHandler">
<em class="property">class </em><code class="sig-prename descclassname">engine.run_online.</code><code class="sig-name descname">CalculationStatusHSTHandler</code><span class="sig-paren">(</span><em class="sig-param">application: tornado.web.Application</em>, <em class="sig-param">request: tornado.httputil.HTTPServerRequest</em>, <em class="sig-param">**kwargs: Any</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/engine/run_online.html#CalculationStatusHSTHandler"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#engine.run_online.CalculationStatusHSTHandler" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#engine.run_online.BaseHandler" title="engine.run_online.BaseHandler"><code class="xref py py-class docutils literal notranslate"><span class="pre">engine.run_online.BaseHandler</span></code></a></p>
<p>Handlers returning the status of a particular HST calculation task.</p>
<dl class="method">
<dt id="engine.run_online.CalculationStatusHSTHandler.get">
<code class="sig-name descname">get</code><span class="sig-paren">(</span><em class="sig-param">id</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/engine/run_online.html#CalculationStatusHSTHandler.get"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#engine.run_online.CalculationStatusHSTHandler.get" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="engine.run_online.CalculationStatusHandler">
<em class="property">class </em><code class="sig-prename descclassname">engine.run_online.</code><code class="sig-name descname">CalculationStatusHandler</code><span class="sig-paren">(</span><em class="sig-param">application: tornado.web.Application</em>, <em class="sig-param">request: tornado.httputil.HTTPServerRequest</em>, <em class="sig-param">**kwargs: Any</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/engine/run_online.html#CalculationStatusHandler"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#engine.run_online.CalculationStatusHandler" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#engine.run_online.BaseHandler" title="engine.run_online.BaseHandler"><code class="xref py py-class docutils literal notranslate"><span class="pre">engine.run_online.BaseHandler</span></code></a></p>
<p>Handlers returning the status of a particular JWST calculation task.</p>
<dl class="method">
<dt id="engine.run_online.CalculationStatusHandler.get">
<code class="sig-name descname">get</code><span class="sig-paren">(</span><em class="sig-param">id</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/engine/run_online.html#CalculationStatusHandler.get"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#engine.run_online.CalculationStatusHandler.get" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="engine.run_online.CalculationTask">
<em class="property">class </em><code class="sig-prename descclassname">engine.run_online.</code><code class="sig-name descname">CalculationTask</code><span class="sig-paren">(</span><em class="sig-param">id</em>, <em class="sig-param">name</em>, <em class="sig-param">task</em>, <em class="sig-param">cookie</em>, <em class="sig-param">count</em><span class="sig-paren">)</span><a class="headerlink" href="#engine.run_online.CalculationTask" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">tuple</span></code></p>
<dl class="method">
<dt id="engine.run_online.CalculationTask.cookie">
<em class="property">property </em><code class="sig-name descname">cookie</code><a class="headerlink" href="#engine.run_online.CalculationTask.cookie" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for field number 3</p>
</dd></dl>

<dl class="method">
<dt id="engine.run_online.CalculationTask.count">
<em class="property">property </em><code class="sig-name descname">count</code><a class="headerlink" href="#engine.run_online.CalculationTask.count" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for field number 4</p>
</dd></dl>

<dl class="method">
<dt id="engine.run_online.CalculationTask.id">
<em class="property">property </em><code class="sig-name descname">id</code><a class="headerlink" href="#engine.run_online.CalculationTask.id" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for field number 0</p>
</dd></dl>

<dl class="method">
<dt id="engine.run_online.CalculationTask.name">
<em class="property">property </em><code class="sig-name descname">name</code><a class="headerlink" href="#engine.run_online.CalculationTask.name" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for field number 1</p>
</dd></dl>

<dl class="method">
<dt id="engine.run_online.CalculationTask.task">
<em class="property">property </em><code class="sig-name descname">task</code><a class="headerlink" href="#engine.run_online.CalculationTask.task" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for field number 2</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="engine.run_online.CalculationViewHSTHandler">
<em class="property">class </em><code class="sig-prename descclassname">engine.run_online.</code><code class="sig-name descname">CalculationViewHSTHandler</code><span class="sig-paren">(</span><em class="sig-param">application: tornado.web.Application</em>, <em class="sig-param">request: tornado.httputil.HTTPServerRequest</em>, <em class="sig-param">**kwargs: Any</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/engine/run_online.html#CalculationViewHSTHandler"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#engine.run_online.CalculationViewHSTHandler" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#engine.run_online.BaseHandler" title="engine.run_online.BaseHandler"><code class="xref py py-class docutils literal notranslate"><span class="pre">engine.run_online.BaseHandler</span></code></a></p>
<p>This handler deals with passing the results from Pandeia to the
<cite>create_component_hst</cite> function which generates the Bokeh interative plots.</p>
<dl class="method">
<dt id="engine.run_online.CalculationViewHSTHandler.get">
<code class="sig-name descname">get</code><span class="sig-paren">(</span><em class="sig-param">id</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/engine/run_online.html#CalculationViewHSTHandler.get"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#engine.run_online.CalculationViewHSTHandler.get" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="engine.run_online.CalculationViewHandler">
<em class="property">class </em><code class="sig-prename descclassname">engine.run_online.</code><code class="sig-name descname">CalculationViewHandler</code><span class="sig-paren">(</span><em class="sig-param">application: tornado.web.Application</em>, <em class="sig-param">request: tornado.httputil.HTTPServerRequest</em>, <em class="sig-param">**kwargs: Any</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/engine/run_online.html#CalculationViewHandler"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#engine.run_online.CalculationViewHandler" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#engine.run_online.BaseHandler" title="engine.run_online.BaseHandler"><code class="xref py py-class docutils literal notranslate"><span class="pre">engine.run_online.BaseHandler</span></code></a></p>
<p>This handler deals with passing the results from Pandeia to the
<cite>create_component_jwst</cite> function which generates the Bokeh interative plots.</p>
<dl class="method">
<dt id="engine.run_online.CalculationViewHandler.get">
<code class="sig-name descname">get</code><span class="sig-paren">(</span><em class="sig-param">id</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/engine/run_online.html#CalculationViewHandler.get"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#engine.run_online.CalculationViewHandler.get" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="engine.run_online.DashboardHSTHandler">
<em class="property">class </em><code class="sig-prename descclassname">engine.run_online.</code><code class="sig-name descname">DashboardHSTHandler</code><span class="sig-paren">(</span><em class="sig-param">application: tornado.web.Application</em>, <em class="sig-param">request: tornado.httputil.HTTPServerRequest</em>, <em class="sig-param">**kwargs: Any</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/engine/run_online.html#DashboardHSTHandler"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#engine.run_online.DashboardHSTHandler" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#engine.run_online.BaseHandler" title="engine.run_online.BaseHandler"><code class="xref py py-class docutils literal notranslate"><span class="pre">engine.run_online.BaseHandler</span></code></a></p>
<p>Request handler for the dashboard page. This will retrieve and render
the html template, along with the list of current task objects.</p>
<dl class="method">
<dt id="engine.run_online.DashboardHSTHandler.get">
<code class="sig-name descname">get</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/engine/run_online.html#DashboardHSTHandler.get"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#engine.run_online.DashboardHSTHandler.get" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="engine.run_online.DashboardHandler">
<em class="property">class </em><code class="sig-prename descclassname">engine.run_online.</code><code class="sig-name descname">DashboardHandler</code><span class="sig-paren">(</span><em class="sig-param">application: tornado.web.Application</em>, <em class="sig-param">request: tornado.httputil.HTTPServerRequest</em>, <em class="sig-param">**kwargs: Any</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/engine/run_online.html#DashboardHandler"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#engine.run_online.DashboardHandler" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#engine.run_online.BaseHandler" title="engine.run_online.BaseHandler"><code class="xref py py-class docutils literal notranslate"><span class="pre">engine.run_online.BaseHandler</span></code></a></p>
<p>Request handler for the dashboard page. This will retrieve and render
the html template, along with the list of current task objects.</p>
<dl class="method">
<dt id="engine.run_online.DashboardHandler.get">
<code class="sig-name descname">get</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/engine/run_online.html#DashboardHandler.get"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#engine.run_online.DashboardHandler.get" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="engine.run_online.HelpfulPlotsHandler">
<em class="property">class </em><code class="sig-prename descclassname">engine.run_online.</code><code class="sig-name descname">HelpfulPlotsHandler</code><span class="sig-paren">(</span><em class="sig-param">application: tornado.web.Application</em>, <em class="sig-param">request: tornado.httputil.HTTPServerRequest</em>, <em class="sig-param">**kwargs: Any</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/engine/run_online.html#HelpfulPlotsHandler"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#engine.run_online.HelpfulPlotsHandler" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#engine.run_online.BaseHandler" title="engine.run_online.BaseHandler"><code class="xref py py-class docutils literal notranslate"><span class="pre">engine.run_online.BaseHandler</span></code></a></p>
<dl class="method">
<dt id="engine.run_online.HelpfulPlotsHandler.get">
<code class="sig-name descname">get</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/engine/run_online.html#HelpfulPlotsHandler.get"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#engine.run_online.HelpfulPlotsHandler.get" title="Permalink to this definition">¶</a></dt>
<dd><p>Renders helpful bokeh plots</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="engine.run_online.HomeHandler">
<em class="property">class </em><code class="sig-prename descclassname">engine.run_online.</code><code class="sig-name descname">HomeHandler</code><span class="sig-paren">(</span><em class="sig-param">application: tornado.web.Application</em>, <em class="sig-param">request: tornado.httputil.HTTPServerRequest</em>, <em class="sig-param">**kwargs: Any</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/engine/run_online.html#HomeHandler"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#engine.run_online.HomeHandler" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#engine.run_online.BaseHandler" title="engine.run_online.BaseHandler"><code class="xref py py-class docutils literal notranslate"><span class="pre">engine.run_online.BaseHandler</span></code></a></p>
<dl class="method">
<dt id="engine.run_online.HomeHandler.get">
<code class="sig-name descname">get</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/engine/run_online.html#HomeHandler.get"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#engine.run_online.HomeHandler.get" title="Permalink to this definition">¶</a></dt>
<dd><p>This sets an <strong>unsecured</strong> cookie. If user accounts gets
implemented, this must be changed to a secure cookie.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="engine.run_online.TablesHandler">
<em class="property">class </em><code class="sig-prename descclassname">engine.run_online.</code><code class="sig-name descname">TablesHandler</code><span class="sig-paren">(</span><em class="sig-param">application: tornado.web.Application</em>, <em class="sig-param">request: tornado.httputil.HTTPServerRequest</em>, <em class="sig-param">**kwargs: Any</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/engine/run_online.html#TablesHandler"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#engine.run_online.TablesHandler" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#engine.run_online.BaseHandler" title="engine.run_online.BaseHandler"><code class="xref py py-class docutils literal notranslate"><span class="pre">engine.run_online.BaseHandler</span></code></a></p>
<dl class="method">
<dt id="engine.run_online.TablesHandler.get">
<code class="sig-name descname">get</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/engine/run_online.html#TablesHandler.get"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#engine.run_online.TablesHandler.get" title="Permalink to this definition">¶</a></dt>
<dd><p>Render tables with confirmed candidates</p>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="engine.run_online.getStarName">
<code class="sig-prename descclassname">engine.run_online.</code><code class="sig-name descname">getStarName</code><span class="sig-paren">(</span><em class="sig-param">planet_name</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/engine/run_online.html#getStarName"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#engine.run_online.getStarName" title="Permalink to this definition">¶</a></dt>
<dd><p>Given a string with a (supposed) planet name, this function returns the star name. For example:</p>
<ul class="simple">
<li><p>If <cite>planet_name</cite> is ‘HATS-5b’ this returns ‘HATS-5’.</p></li>
<li><p>If <cite>planet_name</cite> is ‘Kepler-12Ab’ this returns ‘Kepler-12A’.</p></li>
</ul>
<p>It also handles the corner case in which <cite>planet_name</cite> is <em>not</em> a planet name, but a star name itself, e.g.:</p>
<ul class="simple">
<li><p>If <cite>planet_name</cite> is ‘HAT-P-1’ it returns ‘HAT-P-1’.</p></li>
<li><p>If <cite>planet_name</cite> is ‘HAT-P-1  ‘ it returns ‘HAT-P-1’.</p></li>
</ul>
</dd></dl>

<dl class="function">
<dt id="engine.run_online.main">
<code class="sig-prename descclassname">engine.run_online.</code><code class="sig-name descname">main</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/engine/run_online.html#main"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#engine.run_online.main" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-engine.compute_noise">
<span id="engine-compute-noise"></span><h2>engine.compute_noise<a class="headerlink" href="#module-engine.compute_noise" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="engine.compute_noise.ExtractSpec">
<em class="property">class </em><code class="sig-prename descclassname">engine.compute_noise.</code><code class="sig-name descname">ExtractSpec</code><span class="sig-paren">(</span><em class="sig-param">inn</em>, <em class="sig-param">out</em>, <em class="sig-param">rn</em>, <em class="sig-param">extraction_area</em>, <em class="sig-param">timing</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/engine/compute_noise.html#ExtractSpec"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#engine.compute_noise.ExtractSpec" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Different methods for computing noise.</p>
<p>PandExo has several different methods of computing noise.
MULTIACCUM (slope method) assumses that each frame is fit for up the ramp and
that the final nosie includes correlated noise from fitting each frame up the ramp.
First Minus Last assumes that intermediate frames are not used and final noise is just
the first frame minus the last frame. 2d extract uses Pandeia’s 2d simualtions to
extracts the spectrum from the 2d extraction box. It extracts the entire postage stamp
so it might be an overestimate of flux (in contrast pandeia requires background
extraction region to be at least equal to the flux extraction region)</p>
<dl class="simple">
<dt>Noise Components Included:</dt><dd><ul class="simple">
<li><p>Shot</p></li>
<li><p>Background and Dark Current</p></li>
<li><p>Read noise</p></li>
</ul>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>inn</strong> (<em>dict</em>) – In transit dictionary computed from PandExo</p></li>
<li><p><strong>out</strong> (<em>dict</em>) – Out of transit dictionary comptued from PandExo</p></li>
<li><p><strong>rn</strong> (<em>float</em>) – Read noise electrons</p></li>
<li><p><strong>extraction_area</strong> (<em>float</em>) – Number of extracted pixels (square pixels)</p></li>
<li><p><strong>timing</strong> (<em>dict</em>) – Dictionary of computed JWST timing products</p></li>
</ul>
</dd>
</dl>
<dl class="method">
<dt id="engine.compute_noise.ExtractSpec.loopingL">
<code class="sig-name descname">loopingL</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/engine/compute_noise.html#ExtractSpec.loopingL"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#engine.compute_noise.ExtractSpec.loopingL" title="Permalink to this definition">¶</a></dt>
<dd><p>extracts pixels from center to bottom</p>
</dd></dl>

<dl class="method">
<dt id="engine.compute_noise.ExtractSpec.loopingU">
<code class="sig-name descname">loopingU</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/engine/compute_noise.html#ExtractSpec.loopingU"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#engine.compute_noise.ExtractSpec.loopingU" title="Permalink to this definition">¶</a></dt>
<dd><p>extracts pixels from center to top</p>
</dd></dl>

<dl class="method">
<dt id="engine.compute_noise.ExtractSpec.sum_spatial">
<code class="sig-name descname">sum_spatial</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/engine/compute_noise.html#ExtractSpec.sum_spatial"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#engine.compute_noise.ExtractSpec.sum_spatial" title="Permalink to this definition">¶</a></dt>
<dd><p>sums pixels in optimal extraction region</p>
</dd></dl>

<dl class="method">
<dt id="engine.compute_noise.ExtractSpec.extract_region">
<code class="sig-name descname">extract_region</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/engine/compute_noise.html#ExtractSpec.extract_region"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#engine.compute_noise.ExtractSpec.extract_region" title="Permalink to this definition">¶</a></dt>
<dd><p>determines optimal extraction region</p>
</dd></dl>

<dl class="method">
<dt id="engine.compute_noise.ExtractSpec.run_2d_extract">
<code class="sig-name descname">run_2d_extract</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/engine/compute_noise.html#ExtractSpec.run_2d_extract"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#engine.compute_noise.ExtractSpec.run_2d_extract" title="Permalink to this definition">¶</a></dt>
<dd><p>top level to extract spec from 2d pandeia output</p>
</dd></dl>

<dl class="method">
<dt id="engine.compute_noise.ExtractSpec.run_slope_method">
<code class="sig-name descname">run_slope_method</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/engine/compute_noise.html#ExtractSpec.run_slope_method"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#engine.compute_noise.ExtractSpec.run_slope_method" title="Permalink to this definition">¶</a></dt>
<dd><p>computes noise using multiaccum formulation</p>
</dd></dl>

<dl class="method">
<dt id="engine.compute_noise.ExtractSpec.run_f_minus_l">
<code class="sig-name descname">run_f_minus_l</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/engine/compute_noise.html#ExtractSpec.run_f_minus_l"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#engine.compute_noise.ExtractSpec.run_f_minus_l" title="Permalink to this definition">¶</a></dt>
<dd><p>computs noise using first minus last</p>
</dd></dl>

<dl class="method">
<dt id="engine.compute_noise.ExtractSpec.run_phase_spec">
<code class="sig-name descname">run_phase_spec</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/engine/compute_noise.html#ExtractSpec.run_phase_spec"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#engine.compute_noise.ExtractSpec.run_phase_spec" title="Permalink to this definition">¶</a></dt>
<dd><p>computs noise for phase curve observations</p>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">extract_region</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/engine/compute_noise.html#ExtractSpec.extract_region"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Determine extraction Region</p>
<p>Contains functionality to determine extraction region from Pandeia 2d noise
simulations. Calls <cite>self.loopingL</cite> and <cite>self.loopingU</cite>.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>bounding regions, photon and noise to be summed</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">loopingL</code><span class="sig-paren">(</span><em class="sig-param">cen</em>, <em class="sig-param">signal_col</em>, <em class="sig-param">noise_col</em>, <em class="sig-param">bkg_col</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/engine/compute_noise.html#ExtractSpec.loopingL"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Finds bottom of the optimal extraction region.</p>
<p>Find location where SNR is the highest and loop from highest value downward</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cen</strong> (<em>float</em><em> or </em><em>int</em>) – Pixel where SNR is the highest</p></li>
<li><p><strong>signal_col</strong> (<em>array of float</em>) – Array of fluxes to be extracted in a single column on the detector</p></li>
<li><p><strong>noise_col</strong> (<em>array of float</em>) – Array of noise to be extracted in a single column on the detector</p></li>
<li><p><strong>bkg_col</strong> (<em>array of float</em>) – Array of background fluxes to be extracted in a single column on the detector</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Bottom most pixel to be extracted</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">loopingU</code><span class="sig-paren">(</span><em class="sig-param">cen</em>, <em class="sig-param">signal_col</em>, <em class="sig-param">noise_col</em>, <em class="sig-param">bkg_col</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/engine/compute_noise.html#ExtractSpec.loopingU"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Finds top of the optimal extraction region.</p>
<p>Find location where SNR is the highest and loop from highest value upward</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cen</strong> (<em>float</em><em> or </em><em>int</em>) – Pixel where SNR is the highest</p></li>
<li><p><strong>signal_col</strong> (<em>array of float</em>) – Array of fluxes to be extracted in a single column on the detector</p></li>
<li><p><strong>noise_col</strong> (<em>array of float</em>) – Array of noise to be extracted in a single column on the detector</p></li>
<li><p><strong>bkg_col</strong> (<em>array of float</em>) – Array of background fluxes to be extracted in a single column on the detector</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Top most pixel to be extracted</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">run_2d_extract</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/engine/compute_noise.html#ExtractSpec.run_2d_extract"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Extract noise from 2d detector image</p>
<p>Contains functionality to extract noise from 2d detector image</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>all optimally extracted 1d products</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">run_f_minus_l</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/engine/compute_noise.html#ExtractSpec.run_f_minus_l"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Compute noise using first minus last formula</p>
<p>Uses 1d exracted products from pandeia to compute noise without
multiaccum noise formula from Rauscher 07. Includes readnoise
background.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>all optimally extracted 1d products for a single transit</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">run_phase_spec</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/engine/compute_noise.html#ExtractSpec.run_phase_spec"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Computes time dependent noise for phase curves.</p>
<p>Computes noise for phase curve analysis instead of spectroscopy.
Using MULTIACCUM formula here but this could be changed in the future.  Does not
return a spectra for each time element… On your own for that.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>all optimally extracted 1d products</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">run_slope_method</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/engine/compute_noise.html#ExtractSpec.run_slope_method"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Compute noise using Pandeia 1d noise</p>
<p>Contains functionality to compute noise using Pandeia 1d noise
output products (uses MULTIACCUM) noise formula</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>all optimally extracted 1d products for a single occultation</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">sum_spatial</code><span class="sig-paren">(</span><em class="sig-param">extract_info</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/engine/compute_noise.html#ExtractSpec.sum_spatial"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Sum pixel in the spatial direction</p>
<p>Takes extraction info from <cite>extract_region</cite> and sums pixels in that region
taking into account integrations and number of transits</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>extract_info</strong> (<em>dict</em>) – Dictionary with information on extraction box, flux and noise products</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Dictionary with all extracted 1d products including noise, background, fluxes</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-engine.create_input">
<span id="engine-create-input"></span><h2>engine.create_input<a class="headerlink" href="#module-engine.create_input" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="engine.create_input.bothTrans">
<code class="sig-prename descclassname">engine.create_input.</code><code class="sig-name descname">bothTrans</code><span class="sig-paren">(</span><em class="sig-param">out_trans</em>, <em class="sig-param">planet</em>, <em class="sig-param">star=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/engine/create_input.html#bothTrans"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#engine.create_input.bothTrans" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates in transit flux</p>
<p>Takes output from <cite>outTrans</cite>, which is the normalized stellar flux, and
creates either a transit transmission spectrum, phase curve or emission spectrum.
Magnitude</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>out_trans</strong> (<em>dict</em>) – includes dictionary from <cite>outTrans</cite> output.</p></li>
<li><p><strong>planet</strong> (<em>dict</em>) – dictionary with direction to planet spectra, wavelength and flux units</p></li>
<li><p><strong>star</strong> (<em>dict</em>) – (Optional) dictionary within exo_input with stellar information. Only
used when scaling Fortney Grid spectra to get (rp/r*)^2</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>dictionary with out of transit flux, in transit flux, original model
and corresponding wavelengths</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="engine.create_input.hst_spec">
<code class="sig-prename descclassname">engine.create_input.</code><code class="sig-name descname">hst_spec</code><span class="sig-paren">(</span><em class="sig-param">planet</em>, <em class="sig-param">star</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/engine/create_input.html#hst_spec"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#engine.create_input.hst_spec" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates in transit flux</p>
<p>Takes output from <cite>outTrans</cite>, which is the normalized stellar flux, and
creates either a transit transmission spectrum, phase curve or emission spectrum.
Magnitude</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>planet</strong> (<em>dict</em>) – dictionary with direction to planet spectra, wavelength and flux units</p></li>
<li><p><strong>star</strong> (<em>dict</em>) – dictionary within exo_input with stellar information. Only
used when scaling Fortney Grid spectra to get (rp/r*)^2</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>dictionary with out of transit flux, in transit flux, original model
and corresponding wavelengths</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="engine.create_input.outTrans">
<code class="sig-prename descclassname">engine.create_input.</code><code class="sig-name descname">outTrans</code><span class="sig-paren">(</span><em class="sig-param">input</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/engine/create_input.html#outTrans"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#engine.create_input.outTrans" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute out of transit spectra</p>
<p>Computes the out of transit spectra by normalizing flux to specified
magnitude and convert to specified Pandeia units of milliJy and microns.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>input</strong> (<em>dict</em>) – stellar scene which includes parameters to extract phoenix database or a
filename which points to a stellar spectrum</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>contains wave and flux_out_trans</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-engine.hst">
<span id="engine-hst"></span><h2>engine.hst<a class="headerlink" href="#module-engine.hst" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="engine.hst.calc_start_window">
<code class="sig-prename descclassname">engine.hst.</code><code class="sig-name descname">calc_start_window</code><span class="sig-paren">(</span><em class="sig-param">eventType</em>, <em class="sig-param">rms</em>, <em class="sig-param">ptsOrbit</em>, <em class="sig-param">numOrbits</em>, <em class="sig-param">depth</em>, <em class="sig-param">inc</em>, <em class="sig-param">aRs</em>, <em class="sig-param">period</em>, <em class="sig-param">windowSize</em>, <em class="sig-param">ecc=0</em>, <em class="sig-param">w=90.0</em>, <em class="sig-param">duration=None</em>, <em class="sig-param">offset=0.0</em>, <em class="sig-param">useFirstOrbit=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/engine/hst.html#calc_start_window"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#engine.hst.calc_start_window" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate earliest and latest start times</p>
<p>Plot earliest and latest possible spectroscopic light curves for given start window size</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>eventType</strong> (<em>str</em>) – ‘transit’ or ‘eclipse’</p></li>
<li><p><strong>rms</strong> (<em>float</em>) – light curve root-mean-square</p></li>
<li><p><strong>ptsOrbit</strong> (<em>int</em>) – number of frames per HST orbit</p></li>
<li><p><strong>numOrbits</strong> (<em>int</em>) – number of HST orbits per visit</p></li>
<li><p><strong>depth</strong> (<em>float</em>) – transit/eclipse depth</p></li>
<li><p><strong>inc</strong> (<em>float</em>) – orbital inclination in degrees</p></li>
<li><p><strong>aRs</strong> (<em>float</em>) – Semi-major axis in units of stellar radii (a/R*)</p></li>
<li><p><strong>period</strong> (<em>float</em>) – orbital period in days</p></li>
<li><p><strong>windowSize</strong> (<em>float</em>) – observation start window size in minutes</p></li>
<li><p><strong>ecc</strong> (<em>float</em>) – (Optional) eccentricity</p></li>
<li><p><strong>w</strong> (<em>float</em>) – (Optional) longitude of periastron in degrees</p></li>
<li><p><strong>duration</strong> (<em>float</em>) – (Optional) full transit/eclipse duration in days</p></li>
<li><p><strong>offset</strong> (<em>float</em>) – (Optional) manual offset in observation start time, in minutes</p></li>
<li><p><strong>useFirstOrbit</strong> (<em>bool</em>) – (Optional) whether to use first orbit</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p><em>float</em> – minphase–earliest observation start phase</p></li>
<li><p><em>float</em> – maxphase–latest observation start phase</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="engine.hst.calculate_tsec">
<code class="sig-prename descclassname">engine.hst.</code><code class="sig-name descname">calculate_tsec</code><span class="sig-paren">(</span><em class="sig-param">period</em>, <em class="sig-param">ecc</em>, <em class="sig-param">omega</em>, <em class="sig-param">inc</em>, <em class="sig-param">t0=None</em>, <em class="sig-param">tperi=None</em>, <em class="sig-param">winn_approximation=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/engine/hst.html#calculate_tsec"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#engine.hst.calculate_tsec" title="Permalink to this definition">¶</a></dt>
<dd><p>Function to calculate the time of secondary eclipse.</p>
<p>This uses Halley’s method (Newton-Raphson, but using second derivatives) to first find the true anomaly (f) at which secondary eclipse occurs,
then uses this to get the eccentric anomaly (E) at secondary eclipse, which gives the mean anomaly (M) at secondary
eclipse using Kepler’s equation. This finally leads to the time of secondary eclipse using the definition of the mean
anomaly (M = n*(t - tau) — here tau is the time of pericenter passage, n = 2*pi/period the mean motion).
Time inputs can be either the time of periastron passage directly or the time of transit center. If the latter, the
true anomaly for primary transit will be calculated using Halley’s method as well, and this will be used to get the
time of periastron passage.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>period</strong> (<em>float</em>) – The period of the transit in days.</p></li>
<li><p><strong>ecc</strong> (<em>float</em>) – Eccentricity of the orbit</p></li>
<li><p><strong>omega</strong> (<em>float</em>) – Argument of periastron passage (in radians)</p></li>
<li><p><strong>inc</strong> (<em>string</em>) – Inclination of the orbit (in radians)</p></li>
<li><p><strong>t0</strong> (<em>float</em>) – The transit time in BJD or HJD (will be used to get time of periastron passage).</p></li>
<li><p><strong>tperi</strong> (<em>float</em>) – The time of periastron passage in BJD or HJD (needed if t0 is not supplied).</p></li>
<li><p><strong>winn_approximation</strong> (<em>boolean</em>) – If True, the approximation in Winn (2010) is used — (only valid for not very eccentric and inclined orbits).</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>tsec</strong> – The time of secondary eclipse</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="engine.hst.compute_sim_hst">
<code class="sig-prename descclassname">engine.hst.</code><code class="sig-name descname">compute_sim_hst</code><span class="sig-paren">(</span><em class="sig-param">dictinput</em>, <em class="sig-param">verbose=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/engine/hst.html#compute_sim_hst"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#engine.hst.compute_sim_hst" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets up HST simulations</p>
<p>Function to set up explanet observations for HST only and
compute simulated spectrum.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>dictinput</strong> (<em>dict</em>) – instrument and pandexo dictionaries in format {“pandeia_input”:dict1, “pandexo_input”:dict2}</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>All hst output info needed to plot simulated data, light curves timing info</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="engine.hst.compute_sim_lightcurve">
<code class="sig-prename descclassname">engine.hst.</code><code class="sig-name descname">compute_sim_lightcurve</code><span class="sig-paren">(</span><em class="sig-param">exposureDict</em>, <em class="sig-param">lightCurveDict</em>, <em class="sig-param">calRamp=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/engine/hst.html#compute_sim_lightcurve"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#engine.hst.compute_sim_lightcurve" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute simulated HST light curves</p>
<p>Function to take the fluence and error estimates from wfc3_TExoNS
and the model light curve from calc_start_window to simulate observed
light curves. Ramp effect systemacts simulated by RECTE can be
included by turning on the calRamp switch</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>exposureDict</strong> (<em>dict</em>) – </p></li>
<li><p><strong>information for the observation. This dictionary is</strong> (<em>Includes</em>) – </p></li>
<li><p><strong>by function wfc3_TExoNS. Relevant keys in the dictionary</strong> (<em>returned</em>) – </p></li>
<li><p><strong>[</strong><strong>'info'</strong><strong>]</strong><strong>[</strong><strong>&quot;Maximum pixel fluence</strong><strong> (</strong><strong>electrons</strong><strong>)</strong><strong>&quot;</strong><strong>] </strong><strong>and</strong> (<em>are</em>) – </p></li>
<li><p><strong>time'</strong><strong>]</strong> (<em>[</em><em>'info'</em><em>]</em><em>[</em><em>'exposure</em>) – </p></li>
<li><p><strong>lightCurveDict</strong> (<em>dict</em>) – </p></li>
<li><p><strong>the model light curve. The light curves are estimed by</strong> (<em>Includes</em>) – </p></li>
<li><p><strong>calc_start_window</strong> – </p></li>
<li><p><strong>calRamp</strong> (<em>bool</em><em> (</em><em>default: False</em><em>)</em>) – </p></li>
<li><p><strong>to turn on/off RECTE ramp calculation. Calculate realistic</strong> (<em>Switch</em>) – </p></li>
<li><p><strong>effect systematics when the switch is turned on.</strong> (<em>ramp</em>) – </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p><em>dict</em></p></li>
<li><p><strong>Resulting light curve (unit</strong> (<em>e/pixel) for the earliest and latest time</em>)</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="engine.hst.create_out_div">
<code class="sig-prename descclassname">engine.hst.</code><code class="sig-name descname">create_out_div</code><span class="sig-paren">(</span><em class="sig-param">input_dict</em>, <em class="sig-param">minphase</em>, <em class="sig-param">maxphase</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/engine/hst.html#create_out_div"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#engine.hst.create_out_div" title="Permalink to this definition">¶</a></dt>
<dd><p>Function to render input dicts in html format for web front end</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>input_dict</strong> (<em>dict</em>) – any input dictionary</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>html rendered table</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>div</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="engine.hst.drsky">
<code class="sig-prename descclassname">engine.hst.</code><code class="sig-name descname">drsky</code><span class="sig-paren">(</span><em class="sig-param">x</em>, <em class="sig-param">ecc</em>, <em class="sig-param">omega</em>, <em class="sig-param">inc</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/engine/hst.html#drsky"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#engine.hst.drsky" title="Permalink to this definition">¶</a></dt>
<dd><p>Function whose roots we wish to find to obtain time of secondary (and primary) eclipse(s)
When one takes the derivative of equation (5) in Winn (2010; <a class="reference external" href="https://arxiv.org/abs/1001.2010v5">https://arxiv.org/abs/1001.2010v5</a>), and equates that to zero (to find the
minimum/maximum of said function), one gets to an equation of the form g(x) = 0. This function (drsky) is g(x), where x is the true
anomaly.
:param x: True anomaly
:type x: float
:param ecc: Eccentricity of the orbit
:type ecc: float
:param omega: Argument of periastron passage (in radians)
:type omega: float
:param inc: Inclination of the orbit (in radians)
:type inc: float</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><strong>drsky</strong> – Function evaluated at x, ecc, omega, inc</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="engine.hst.drsky_2prime">
<code class="sig-prename descclassname">engine.hst.</code><code class="sig-name descname">drsky_2prime</code><span class="sig-paren">(</span><em class="sig-param">x</em>, <em class="sig-param">ecc</em>, <em class="sig-param">omega</em>, <em class="sig-param">inc</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/engine/hst.html#drsky_2prime"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#engine.hst.drsky_2prime" title="Permalink to this definition">¶</a></dt>
<dd><p>Second derivative of function drsky. This is the second derivative with respect to f of the drsky function.
:param x: True anomaly
:type x: float
:param ecc: Eccentricity of the orbit
:type ecc: float
:param omega: Argument of periastron passage (in radians)
:type omega: float
:param inc: Inclination of the orbit (in radians)
:type inc: float</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><strong>drsky_2prime</strong> – Function evaluated at x, ecc, omega, inc</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="engine.hst.drsky_prime">
<code class="sig-prename descclassname">engine.hst.</code><code class="sig-name descname">drsky_prime</code><span class="sig-paren">(</span><em class="sig-param">x</em>, <em class="sig-param">ecc</em>, <em class="sig-param">omega</em>, <em class="sig-param">inc</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/engine/hst.html#drsky_prime"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#engine.hst.drsky_prime" title="Permalink to this definition">¶</a></dt>
<dd><p>Derivative of function drsky. This is the first derivative with respect to f of the drsky function.
:param x: True anomaly
:type x: float
:param ecc: Eccentricity of the orbit
:type ecc: float
:param omega: Argument of periastron passage (in radians)
:type omega: float
:param inc: Inclination of the orbit (in radians)
:type inc: float</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><strong>drsky_prime</strong> – Function evaluated at x, ecc, omega, inc</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="engine.hst.getE">
<code class="sig-prename descclassname">engine.hst.</code><code class="sig-name descname">getE</code><span class="sig-paren">(</span><em class="sig-param">f</em>, <em class="sig-param">ecc</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/engine/hst.html#getE"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#engine.hst.getE" title="Permalink to this definition">¶</a></dt>
<dd><p>Function that returns the eccentric anomaly
Note normally this is defined in terms of cosines (see, e.g., Section 2.4 in Murray and Dermott), but numerically
this is troublesome because the arccosine doesn’t handle negative numbers by definition (equation 2.43). That’s why
the arctan version is better as signs are preserved (derivation is also in the same section, equation 2.46).
:param f: True anomaly
:type f: float
:param ecc: Eccentricity
:type ecc: float</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><strong>E</strong> – Eccentric anomaly</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="engine.hst.getM">
<code class="sig-prename descclassname">engine.hst.</code><code class="sig-name descname">getM</code><span class="sig-paren">(</span><em class="sig-param">E</em>, <em class="sig-param">ecc</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/engine/hst.html#getM"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#engine.hst.getM" title="Permalink to this definition">¶</a></dt>
<dd><p>Function that returns the mean anomaly using Kepler’s equation
:param E: Eccentric anomaly
:type E: float
:param ecc: Eccentricity
:type ecc: float</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><strong>M</strong> – Mean anomaly</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="engine.hst.planet_spec">
<code class="sig-prename descclassname">engine.hst.</code><code class="sig-name descname">planet_spec</code><span class="sig-paren">(</span><em class="sig-param">planet</em>, <em class="sig-param">star</em>, <em class="sig-param">w_unit</em>, <em class="sig-param">disperser</em>, <em class="sig-param">deptherr</em>, <em class="sig-param">nchan</em>, <em class="sig-param">smooth=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/engine/hst.html#planet_spec"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#engine.hst.planet_spec" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot exoplanet transmission/emission spectrum</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>planet</strong> (<em>dict</em>) – planet dictionary from exo_input</p></li>
<li><p><strong>star</strong> (<em>dict</em>) – star dictionary from exo_input</p></li>
<li><p><strong>w_unit</strong> (<em>str</em>) – wavelength unit (um or nm)</p></li>
<li><p><strong>disperser</strong> – grism (g102 or g141)</p></li>
<li><p><strong>deptherr</strong> (<em>float</em>) – simulated transit/eclipse depth uncertainty</p></li>
<li><p><strong>nchan</strong> (<em>float</em>) – number of spectrophotometric channels</p></li>
<li><p><strong>smooth</strong> (<em>float</em>) – <p>(Optional)length of smoothing kernel</p>
<dl class="field-list simple">
<dt class="field-odd">returns</dt>
<dd class="field-odd"><p>contains following keys {‘model_wave’,’model_spec’,’binwave’,’binspec’,
‘error’,’wmin’,’wmax’}</p>
</dd>
<dt class="field-even">rtype</dt>
<dd class="field-even"><p>dict</p>
</dd>
</dl>
</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="engine.hst.wfc3_GuessNOrbits">
<code class="sig-prename descclassname">engine.hst.</code><code class="sig-name descname">wfc3_GuessNOrbits</code><span class="sig-paren">(</span><em class="sig-param">trdur</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/engine/hst.html#wfc3_GuessNOrbits"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#engine.hst.wfc3_GuessNOrbits" title="Permalink to this definition">¶</a></dt>
<dd><p>Predict number of HST orbits</p>
<p>Predict number of HST orbits for transit observation when not provided by the user.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>trdur</strong> (<em>float</em>) – transit duration in days</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>number of requested orbits per transit (including discarded thermal-settling orbit)</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="engine.hst.wfc3_GuessParams">
<code class="sig-prename descclassname">engine.hst.</code><code class="sig-name descname">wfc3_GuessParams</code><span class="sig-paren">(</span><em class="sig-param">jmag</em>, <em class="sig-param">disperser</em>, <em class="sig-param">scanDirection</em>, <em class="sig-param">subarray</em>, <em class="sig-param">obsTime</em>, <em class="sig-param">maxScanHeight=180.0</em>, <em class="sig-param">maxExptime=150.0</em>, <em class="sig-param">targetFluence=30000.0</em>, <em class="sig-param">hmag=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/engine/hst.html#wfc3_GuessParams"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#engine.hst.wfc3_GuessParams" title="Permalink to this definition">¶</a></dt>
<dd><p>Predict nsamp and samp_seq when values not provided by the user.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>jmag</strong> (<em>float</em>) – J-band magnitude</p></li>
<li><p><strong>disperser</strong> (<em>str</em>) – grism (‘G141’ or ‘G102’)</p></li>
<li><p><strong>scanDirection</strong> (<em>str</em>) – spatial scan direction (‘Forward’ or ‘Round Trip’)</p></li>
<li><p><strong>subarray</strong> (<em>str</em>) – Subarray aperture (‘grism256’ or ‘grism512’)</p></li>
<li><p><strong>obsTime</strong> (<em>float</em>) – Available observing time per HST orbit in seconds</p></li>
<li><p><strong>maxScanHeight</strong> (<em>float</em>) – (optional) maximum scan height in pixels</p></li>
<li><p><strong>maxExptime</strong> (<em>float</em>) – (Optional) default=150.0, maximum exposure time in seconds</p></li>
<li><p><strong>targetFluence</strong> (<em>float</em>) – (Optional) Desired fluence in electrons per pixel</p></li>
<li><p><strong>hmag</strong> (<em>float</em>) – (Optional) H-band magnitude</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p><em>float</em> – nsamp–number of up-the-ramp samples (1..15)</p></li>
<li><p><em>str</em> – samp_seq–time between non-destructive reads</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="engine.hst.wfc3_TExoNS">
<code class="sig-prename descclassname">engine.hst.</code><code class="sig-name descname">wfc3_TExoNS</code><span class="sig-paren">(</span><em class="sig-param">dictinput</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/engine/hst.html#wfc3_TExoNS"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#engine.hst.wfc3_TExoNS" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute Transit depth uncertainty</p>
<p>Compute the transit depth uncertainty for a defined system and number of spectrophotometric channels.
Written by Kevin Stevenson      October 2016</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>dictinput</strong> (<em>dict</em>) – dictionary containing instrument parameters and exoplanet specific parameters. {“pandeia_input”:dict1, “pandexo_input”:dict1}</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p><em>float</em> – deptherr–transit depth uncertainty per spectrophotometric channel</p></li>
<li><p><em>float</em> – chanrms–light curve root mean squarerms</p></li>
<li><p><em>float</em> – ptsOrbit–number of HST frames per orbit</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="engine.hst.wfc3_obs">
<code class="sig-prename descclassname">engine.hst.</code><code class="sig-name descname">wfc3_obs</code><span class="sig-paren">(</span><em class="sig-param">jmag</em>, <em class="sig-param">disperser</em>, <em class="sig-param">scanDirection</em>, <em class="sig-param">subarray</em>, <em class="sig-param">nsamp</em>, <em class="sig-param">samp_seq</em>, <em class="sig-param">targetFluence=30000.0</em>, <em class="sig-param">hmag=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/engine/hst.html#wfc3_obs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#engine.hst.wfc3_obs" title="Permalink to this definition">¶</a></dt>
<dd><p>Determine the recommended exposure time, scan rate, scan height, and overheads.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>jmag</strong> (<em>float</em>) – J-band magnitude</p></li>
<li><p><strong>disperser</strong> (<em>str</em>) – Grism (‘G141’ or ‘G102’)</p></li>
<li><p><strong>scanDirection</strong> (<em>str</em>) – spatial scan direction (‘Forward’ or ‘Round Trip’)</p></li>
<li><p><strong>subarray</strong> (<em>str</em>) – Subarray aperture (‘grism256’ or ‘grism512’)</p></li>
<li><p><strong>nsamp</strong> (<em>float</em>) – Number of up-the-ramp samples (1..15)</p></li>
<li><p><strong>samp_seq</strong> (<em>str</em>) – Time between non-destructive reads (‘SPARS5’, ‘SPARS10’, or ‘SPARS25’)</p></li>
<li><p><strong>targetFluence</strong> (<em>float</em>) – (Optional) Desired fluence in electrons per pixel</p></li>
<li><p><strong>hmag</strong> (<em>float</em>) – (Optional) H-band magnitude</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p><em>float</em> – exptime–exposure time in seconds</p></li>
<li><p><em>float</em> – tottime–total frame time including overheads in seconds</p></li>
<li><p><em>float</em> – scanRate–recommented scan rate in arcsec/s</p></li>
<li><p><em>float</em> – scanHeight–scan height in pixels</p></li>
<li><p><em>float</em> – fluence–maximum pixel fluence in electrons</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-engine.jwst">
<span id="engine-jwst"></span><h2>engine.jwst<a class="headerlink" href="#module-engine.jwst" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="engine.jwst.add_noise_floor">
<code class="sig-prename descclassname">engine.jwst.</code><code class="sig-name descname">add_noise_floor</code><span class="sig-paren">(</span><em class="sig-param">noise_floor</em>, <em class="sig-param">wave_bin</em>, <em class="sig-param">error_spec</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/engine/jwst.html#add_noise_floor"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#engine.jwst.add_noise_floor" title="Permalink to this definition">¶</a></dt>
<dd><p>Add in noise floor</p>
<p>This adds in a user speficied noise floor. Does not add the noise floor in quadrature
isntead it sets error[error&lt;noise_floor] = noise_floor. If a wavelength dependent
noise floor is given and the wavelength ranges are off, it interpolates the out of
range noise floor.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>noise_floor</strong> (<em>str</em><em> or </em><em>int</em>) – file with two column [wavelength, noise(ppm)] or single number with constant noise floor in ppm</p></li>
<li><p><strong>wave_bin</strong> (<em>array of float</em>) – final binned wavelength grid from simulation</p></li>
<li><p><strong>error_spec</strong> (<em>array of float</em>) – final computed error on the planet spectrum in units of rp^2/r*^2 or fp/f*</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>error_spec– new error</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>array of float</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">wave</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mf">2.7</span><span class="p">,</span><span class="mi">10</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">error</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span><span class="o">+</span><span class="mf">1e-6</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">newerror</span> <span class="o">=</span> <span class="n">add_noise_floor</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="n">wave</span><span class="p">,</span> <span class="n">error</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">newerror</span><span class="p">)</span>
<span class="go">[  2.00000000e-05   2.00000000e-05   2.00000000e-05   2.00000000e-05</span>
<span class="go">   2.00000000e-05   2.00000000e-05   2.00000000e-05   2.00000000e-05</span>
<span class="go">   2.00000000e-05   2.00000000e-05]</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="engine.jwst.add_warnings">
<code class="sig-prename descclassname">engine.jwst.</code><code class="sig-name descname">add_warnings</code><span class="sig-paren">(</span><em class="sig-param">pand_dict</em>, <em class="sig-param">timing</em>, <em class="sig-param">sat_level</em>, <em class="sig-param">flags</em>, <em class="sig-param">instrument</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/engine/jwst.html#add_warnings"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#engine.jwst.add_warnings" title="Permalink to this definition">¶</a></dt>
<dd><p>Add warnings for front end</p>
<p>Adds in necessary warning flags for a JWST observation usually associated with
too few or too many groups or saturation. Alerts user if saturation level is higher
than 80 percent and if the number of groups is less than 5. Or, if the full well is
greater than 80. These warnings are currently very arbitrary. Will be updated as
better JWST recommendations are made.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pand_dict</strong> – output from pandeia run</p></li>
<li><p><strong>timing</strong> (<em>dict</em>) – output from <strong>compute_timing</strong></p></li>
<li><p><strong>sat_level</strong> (<em>int</em><em> or </em><em>float</em>) – user specified saturation level in fractional (00/100)</p></li>
<li><p><strong>flags</strong> (<em>dict</em>) – warning flags taken from output of <strong>compute_timing</strong></p></li>
<li><p><strong>instrument</strong> (<em>str</em>) – Only allowable strings are: “nirspec”, “niriss”, “nircam”, “miri”</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>all warnings</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>These are warnings are just suggestions and are not yet required.</p>
</dd></dl>

<dl class="function">
<dt id="engine.jwst.as_dict">
<code class="sig-prename descclassname">engine.jwst.</code><code class="sig-name descname">as_dict</code><span class="sig-paren">(</span><em class="sig-param">out</em>, <em class="sig-param">both_spec</em>, <em class="sig-param">binned</em>, <em class="sig-param">timing</em>, <em class="sig-param">mag</em>, <em class="sig-param">sat_level</em>, <em class="sig-param">warnings</em>, <em class="sig-param">punit</em>, <em class="sig-param">unbinned</em>, <em class="sig-param">calculation</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/engine/jwst.html#as_dict"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#engine.jwst.as_dict" title="Permalink to this definition">¶</a></dt>
<dd><p>Format dictionary for output data</p>
<p>Takes all output from jwst run and converts it to simple dictionary</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>out</strong> (<em>dict</em>) – output dictionary from <strong>compute_out</strong></p></li>
<li><p><strong>both_spec</strong> (<em>dict</em>) – output dictionary from <strong>createInput.bothTrans</strong></p></li>
<li><p><strong>binned</strong> (<em>dict</em>) – dictionary from <strong>wrapper</strong></p></li>
<li><p><strong>timing</strong> (<em>dict</em>) – dictionary from <strong>compute_timing</strong></p></li>
<li><p><strong>mag</strong> (<em>dict</em>) – magnitude of system</p></li>
<li><p><strong>sat_level</strong> (<em>float</em><em> or </em><em>int</em>) – saturation level in electrons</p></li>
<li><p><strong>warnings</strong> (<em>dict</em>) – warning dictionary from <strong>add_warnings</strong></p></li>
<li><p><strong>punit</strong> (<em>&quot;fp/f*&quot;</em><em> or </em><em>&quot;rp^2/r*^2&quot;</em>) – unit of supplied spectra options are: only options are fp/f* or rp^2/r*^2</p></li>
<li><p><strong>unbinned</strong> (<em>dict</em>) – unbinned raw data from <strong>wrapper</strong></p></li>
<li><p><strong>calculation</strong> (<em>str</em>) – noise calculation type</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>compressed dictionary</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="engine.jwst.bin_wave_to_R">
<code class="sig-prename descclassname">engine.jwst.</code><code class="sig-name descname">bin_wave_to_R</code><span class="sig-paren">(</span><em class="sig-param">w</em>, <em class="sig-param">R</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/engine/jwst.html#bin_wave_to_R"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#engine.jwst.bin_wave_to_R" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates new wavelength axis at specified resolution</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>w</strong> (<em>list of float</em><em> or </em><em>numpy array of float</em>) – Wavelength axis to be rebinned</p></li>
<li><p><strong>R</strong> (<em>float</em><em> or </em><em>int</em>) – Resolution to bin axis to</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>New wavelength axis at specified resolution</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>list of float</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">newwave</span> <span class="o">=</span> <span class="n">bin_wave_to_R</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">1000</span><span class="p">),</span> <span class="mi">10</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">((</span><span class="nb">len</span><span class="p">(</span><span class="n">newwave</span><span class="p">)))</span>
<span class="go">11</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="engine.jwst.compute_full_sim">
<code class="sig-prename descclassname">engine.jwst.</code><code class="sig-name descname">compute_full_sim</code><span class="sig-paren">(</span><em class="sig-param">dictinput</em>, <em class="sig-param">verbose=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/engine/jwst.html#compute_full_sim"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#engine.jwst.compute_full_sim" title="Permalink to this definition">¶</a></dt>
<dd><p>Top level function to set up exoplanet obs. for JW</p>
<p>Function to set up explanet observations for JWST only and
compute simulated spectrum. It uses STScI’s Pandeia to compute
instrument throughputs and WebbPSF to compute PSFs.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dictinput</strong> (<em>dict</em>) – dictionary containing instrument parameters and exoplanet specific
parameters. {“pandeia_input”:dict1, “pandexo_input”:dict1}</p></li>
<li><p><strong>verbose</strong> (<em>bool</em>) – (Optional) prints out check points throughout code</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>large dictionary with 1d, 2d simualtions, timing info, instrument info, warnings</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">.pandexo.engine.jwst</span> <span class="kn">import</span> <span class="n">compute_full_sim</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">.pandexo.engine.justplotit</span> <span class="kn">import</span> <span class="n">jwst_1d_spec</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="n">compute_full_sim</span><span class="p">({</span><span class="s2">&quot;pandeia_input&quot;</span><span class="p">:</span> <span class="n">pandeiadict</span><span class="p">,</span> <span class="s2">&quot;pandexo_input&quot;</span><span class="p">:</span><span class="n">exodict</span><span class="p">})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">jwst_1d_spec</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
<span class="go">.. image:: 1d_spec.png</span>
</pre></div>
</div>
<p class="rubric">Notes</p>
<p>It is much easier to run simulations through either <strong>run_online</strong> or <strong>justdoit</strong>. <strong>justdoit</strong> contains functions to create input dictionaries and <strong>run_online</strong> contains web forms to create input dictionaries.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><code class="xref py py-func docutils literal notranslate"><span class="pre">pandexo.engine.justdoit.run_pandexo()</span></code></dt><dd><p>Best function for running pandexo runs</p>
</dd>
<dt><code class="xref py py-func docutils literal notranslate"><span class="pre">pandexo.engine.run_online()</span></code></dt><dd><p>Allows running functions through online interface</p>
</dd>
</dl>
</div>
</dd></dl>

<dl class="function">
<dt id="engine.jwst.compute_maxexptime_per_int">
<code class="sig-prename descclassname">engine.jwst.</code><code class="sig-name descname">compute_maxexptime_per_int</code><span class="sig-paren">(</span><em class="sig-param">pandeia_input</em>, <em class="sig-param">sat_level</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/engine/jwst.html#compute_maxexptime_per_int"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#engine.jwst.compute_maxexptime_per_int" title="Permalink to this definition">¶</a></dt>
<dd><p>Computes optimal maximum exposure time per integration</p>
<p>Function to simulate 2d jwst image with 2 groups, 1 integration, 1 exposure
and return the maximum time
for one integration before saturation occurs. If saturation has
already occured, returns maxexptime_per_int as np.nan. This then
tells Pandexo to set min number of groups (ngroups =2). This avoids
error if saturation occurs. This routine assumes that min ngroups is 2.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pandeia_input</strong> (<em>dict</em>) – pandeia dictionary input</p></li>
<li><p><strong>sat_level</strong> (<em>int</em><em> or </em><em>float</em>) – user defined saturation level in units of electrons</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Maximum exposure time per integration before specified saturation level</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">max_time</span> <span class="o">=</span> <span class="n">compute_maxexptime_per_int</span><span class="p">(</span><span class="n">pandeia_input</span><span class="p">,</span> <span class="mf">50000.0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">max_time</span><span class="p">)</span>
<span class="go">12.0</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="engine.jwst.compute_timing">
<code class="sig-prename descclassname">engine.jwst.</code><code class="sig-name descname">compute_timing</code><span class="sig-paren">(</span><em class="sig-param">m</em>, <em class="sig-param">transit_duration</em>, <em class="sig-param">expfact_out</em>, <em class="sig-param">noccultations</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/engine/jwst.html#compute_timing"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#engine.jwst.compute_timing" title="Permalink to this definition">¶</a></dt>
<dd><p>Computes all timing info for observation</p>
<p>Computes all JWST specific timing info for observation including. Some pertinent
JWST terminology:</p>
<blockquote>
<div><ul class="simple">
<li><p>frame: The result of sequentially clocking and digitizing all pixels in a rectangular area of an SCA. <strong>Full-fame readout</strong> means to digitize all pixels in an SCA, including reference pixels. <strong>Frame</strong> also applies to the result of clocking and digitizing a subarray on an SCA.</p></li>
<li><p>group: One or more consecutively read frames. There are no intervening resets. Frames may be averaged to form a group but for exoplanets the read out scheme is always 1 frame = 1 group</p></li>
<li><p>integration: The end result of resetting the detector and then non-destructively sampling it one or more times over a finite period of time before resetting the detector again. This is a unit of data for which signal is proportional to intensity, and it consists of one or more GROUPS.</p></li>
<li><p>exposure: The end result of one or more INTEGRATIONS over a finite period of time.  EXPOSURE defines the contents of a single FITS file.</p></li>
</ul>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>m</strong> (<em>dict</em>) – Dictionary output from <strong>compute_maxexptime_per_int</strong></p></li>
<li><p><strong>transit_duration</strong> (<em>float</em><em> or </em><em>int</em>) – transit duration in seconds</p></li>
<li><p><strong>expfact_out</strong> (<em>float</em><em> or </em><em>int</em>) – fraction of time spent in transit versus out of transit</p></li>
<li><p><strong>noccultations</strong> (<em>int</em>) – number of transits</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>timing</strong> (<em>dict</em>) – All timing info</p></li>
<li><p><strong>warningflag</strong> (<em>dict</em>) – Warning flags</p></li>
</ul>
</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">timing</span><span class="p">,</span> <span class="n">flags</span> <span class="o">=</span> <span class="n">compute_timing</span><span class="p">(</span><span class="n">m</span><span class="p">,</span> <span class="mi">2</span><span class="o">*</span><span class="mf">60.0</span><span class="o">*</span><span class="mf">60.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">((</span><span class="nb">list</span><span class="p">(</span><span class="n">timing</span><span class="o">.</span><span class="n">keys</span><span class="p">())))</span>
<span class="go">[&#39;Number of Transits&#39;, &#39;Num Integrations Out of Transit&#39;, &#39;Num Integrations In Transit&#39;,</span>
<span class="go">&#39;APT: Num Groups per Integration&#39;, &#39;Seconds per Frame&#39;, &#39;Observing Efficiency (%)&#39;, &#39;On Source Time(sec)&#39;,</span>
<span class="go">&#39;Exposure Time Per Integration (secs)&#39;, &#39;Reset time Plus 30 min TA time (hrs)&#39;,</span>
<span class="go">&#39;APT: Num Integrations per Occultation&#39;, &#39;Transit Duration&#39;]</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="engine.jwst.perform_in">
<code class="sig-prename descclassname">engine.jwst.</code><code class="sig-name descname">perform_in</code><span class="sig-paren">(</span><em class="sig-param">pandeia_input</em>, <em class="sig-param">pandexo_input</em>, <em class="sig-param">timing</em>, <em class="sig-param">both_spec</em>, <em class="sig-param">out</em>, <em class="sig-param">calculation</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/engine/jwst.html#perform_in"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#engine.jwst.perform_in" title="Permalink to this definition">¶</a></dt>
<dd><p>Computes in transit data</p>
<p>Runs Pandeia for the in transit data or computes the in transit simulation
from the out of transit pandeia run</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pandeia_input</strong> (<em>dict</em>) – pandeia specific input info</p></li>
<li><p><strong>pandexo_input</strong> (<em>dict</em>) – exoplanet specific observation info</p></li>
<li><p><strong>timing</strong> (<em>dict</em>) – timing dictionary from <strong>compute_timing</strong></p></li>
<li><p><strong>both_spec</strong> (<em>dict</em>) – dictionary transit spectra computed from <strong>createInput.bothTrans</strong></p></li>
<li><p><strong>out</strong> (<em>dict</em>) – out of transit dictionary from <strong>perform_in</strong></p></li>
<li><p><strong>calculation</strong> (<em>str</em>) – key which speficies the kind of noise calcualtion
(2d extract, slope method, fml, phase_spec).
Recommended for transit transmisstion spectra = fml</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>pandeia output dictionary</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="engine.jwst.perform_out">
<code class="sig-prename descclassname">engine.jwst.</code><code class="sig-name descname">perform_out</code><span class="sig-paren">(</span><em class="sig-param">pandeia_input</em>, <em class="sig-param">pandexo_input</em>, <em class="sig-param">timing</em>, <em class="sig-param">both_spec</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/engine/jwst.html#perform_out"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#engine.jwst.perform_out" title="Permalink to this definition">¶</a></dt>
<dd><p>Runs pandeia for the out of transit data</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pandeia_input</strong> (<em>dict</em>) – pandeia specific input info</p></li>
<li><p><strong>pandexo_input</strong> (<em>dict</em>) – exoplanet specific observation info</p></li>
<li><p><strong>timing</strong> (<em>dict</em>) – timing dictionary from <strong>compute_timing</strong></p></li>
<li><p><strong>both_spec</strong> (<em>dict</em>) – dictionary transit spectra computed from <strong>createInput.bothTrans</strong></p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>pandeia output dictionary for out of transit data</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="engine.jwst.remove_QY">
<code class="sig-prename descclassname">engine.jwst.</code><code class="sig-name descname">remove_QY</code><span class="sig-paren">(</span><em class="sig-param">pandeia_dict</em>, <em class="sig-param">instrument</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/engine/jwst.html#remove_QY"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#engine.jwst.remove_QY" title="Permalink to this definition">¶</a></dt>
<dd><p>Removes Quantum Yield from Pandeia Fluxes. Place Holder.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pandeia_dict</strong> (<em>dict</em>) – pandeia output dictionary</p></li>
<li><p><strong>instrument</strong> (<em>str</em>) – instrument running</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>same exact dictionary with extracted_flux = extracted_flux/QY</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="engine.jwst.target_acq">
<code class="sig-prename descclassname">engine.jwst.</code><code class="sig-name descname">target_acq</code><span class="sig-paren">(</span><em class="sig-param">instrument</em>, <em class="sig-param">both_spec</em>, <em class="sig-param">warning</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/engine/jwst.html#target_acq"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#engine.jwst.target_acq" title="Permalink to this definition">¶</a></dt>
<dd><p>Contains functionality to compute optimal TA strategy</p>
<p>Takes pandexo normalized flux from create_input and checks for saturation, or
if SNR is below the minimum requirement for each. Then adds warnings and 2d displays
and target acq info to final output dict</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>instrument</strong> (<em>str</em>) – possible options are niriss, nirspec, miri and nircam</p></li>
<li><p><strong>both_spec</strong> (<em>dict</em>) – output dictionary from <strong>create_input</strong></p></li>
<li><p><strong>warning</strong> (<em>dict</em>) – output dictionary from <strong>add_warnings</strong></p></li>
<li><p><strong>Retruns</strong> – </p></li>
<li><p><strong>-------</strong> – </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="engine.jwst.uniform_tophat_sum">
<code class="sig-prename descclassname">engine.jwst.</code><code class="sig-name descname">uniform_tophat_sum</code><span class="sig-paren">(</span><em class="sig-param">newx</em>, <em class="sig-param">x</em>, <em class="sig-param">y</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/engine/jwst.html#uniform_tophat_sum"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#engine.jwst.uniform_tophat_sum" title="Permalink to this definition">¶</a></dt>
<dd><p>Adapted from Mike R. Line to rebin spectra</p>
<p>Sums groups of points in certain wave bin</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>newx</strong> (<em>list of float</em><em> or </em><em>numpy array of float</em>) – New wavelength grid to rebin to</p></li>
<li><p><strong>x</strong> (<em>list of float</em><em> or </em><em>numpy array of float</em>) – Old wavelength grid to get rid of</p></li>
<li><p><strong>y</strong> (<em>list of float</em><em> or </em><em>numpy array of float</em>) – New rebinned y axis</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>new wavelength grid</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>array of floats</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">.pandexo.engine.jwst</span> <span class="kn">import</span> <span class="n">uniform_tophat_sum</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">oldgrid</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">100</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">y</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span><span class="o">+</span><span class="mf">10.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">newy</span> <span class="o">=</span> <span class="n">uniform_tophat_sum</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">),</span> <span class="n">oldgrid</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">newy</span>
<span class="go">array([ 240.,  250.,  130.])</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="module-engine.load_modes">
<span id="engine-load-modes"></span><h2>engine.load_modes<a class="headerlink" href="#module-engine.load_modes" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="engine.load_modes.SetDefaultModes">
<em class="property">class </em><code class="sig-prename descclassname">engine.load_modes.</code><code class="sig-name descname">SetDefaultModes</code><span class="sig-paren">(</span><em class="sig-param">inst</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/engine/load_modes.html#SetDefaultModes"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#engine.load_modes.SetDefaultModes" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Class to load default instrument mode dicts</p>
<p>This class contains functionality for loading observing modes for exoplanet observations
This is NOT a complete set of ALL possibleobserving modes. Instead, it offers a starting point for
choosing one instrument specification. There is one function for each instrument. For example,
It sets slitless mode for MIRI LRS. If users are interested in other specific observation modes
they should load in the dictionary and then edit individual keys.</p>
<dl class="simple">
<dt>Included modes are:</dt><dd><ul class="simple">
<li><p>“MIRI LRS”</p></li>
<li><p>“NIRISS SOSS”</p></li>
<li><p>“NIRSpec G140M”</p></li>
<li><p>“NIRSpec G140H”</p></li>
<li><p>“NIRSpec G235M”</p></li>
<li><p>“NIRSpec G235H”</p></li>
<li><p>“NIRSpec G395M”</p></li>
<li><p>“NIRSpec G395H”</p></li>
<li><p>“NIRSpec Prism”</p></li>
<li><p>“NIRCam F322W2”</p></li>
<li><p>“NIRCam F444W”</p></li>
<li><p>“WFC3 G102”</p></li>
<li><p>“WFC3 G141”</p></li>
</ul>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>inst</strong> (<em>str</em>) – Allowable strings listed above</p>
</dd>
</dl>
<dl class="method">
<dt id="engine.load_modes.SetDefaultModes.miri">
<code class="sig-name descname">miri</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/engine/load_modes.html#SetDefaultModes.miri"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#engine.load_modes.SetDefaultModes.miri" title="Permalink to this definition">¶</a></dt>
<dd><p>Handles MIRI template</p>
</dd></dl>

<dl class="method">
<dt id="engine.load_modes.SetDefaultModes.nircam">
<code class="sig-name descname">nircam</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/engine/load_modes.html#SetDefaultModes.nircam"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#engine.load_modes.SetDefaultModes.nircam" title="Permalink to this definition">¶</a></dt>
<dd><p>Handles NIRCam template</p>
</dd></dl>

<dl class="method">
<dt id="engine.load_modes.SetDefaultModes.niriss">
<code class="sig-name descname">niriss</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/engine/load_modes.html#SetDefaultModes.niriss"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#engine.load_modes.SetDefaultModes.niriss" title="Permalink to this definition">¶</a></dt>
<dd><p>Handles NIRISS template</p>
</dd></dl>

<dl class="method">
<dt id="engine.load_modes.SetDefaultModes.nirspec">
<code class="sig-name descname">nirspec</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/engine/load_modes.html#SetDefaultModes.nirspec"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#engine.load_modes.SetDefaultModes.nirspec" title="Permalink to this definition">¶</a></dt>
<dd><p>Handles NIRSpec template</p>
</dd></dl>

<dl class="method">
<dt id="engine.load_modes.SetDefaultModes.pick">
<code class="sig-name descname">pick</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/engine/load_modes.html#SetDefaultModes.pick"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#engine.load_modes.SetDefaultModes.pick" title="Permalink to this definition">¶</a></dt>
<dd><p>Points to specific instrument based on key choice</p>
</dd></dl>

<dl class="method">
<dt id="engine.load_modes.SetDefaultModes.wfc3">
<code class="sig-name descname">wfc3</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/engine/load_modes.html#SetDefaultModes.wfc3"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#engine.load_modes.SetDefaultModes.wfc3" title="Permalink to this definition">¶</a></dt>
<dd><p>Handles WFC3 template</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-engine.pandexo">
<span id="engine-pandexo"></span><h2>engine.pandexo<a class="headerlink" href="#module-engine.pandexo" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="engine.pandexo.wrapper">
<code class="sig-prename descclassname">engine.pandexo.</code><code class="sig-name descname">wrapper</code><span class="sig-paren">(</span><em class="sig-param">dictinput</em>, <em class="sig-param">verbose=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/engine/pandexo.html#wrapper"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#engine.pandexo.wrapper" title="Permalink to this definition">¶</a></dt>
<dd><p>Tpo level function to call either jwst, hst, wfirst</p>
<p>Top level function which calls either jwst, hst or wfirst noise simulation.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dictinput</strong> – dictionary containing instrument parameters and exoplanet
specific parameters. {“pandeia_input”:dict1, “pandexo_input”:dict1}</p></li>
<li><p><strong>verbose</strong> (<em>bool</em>) – (Optional) prints out checkpoints throughout code</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>output specific to observatory requested</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>You should not run simulations through this. It is much easier to run simulations through
either <strong>run_online</strong> or <strong>justdoit</strong>. <strong>justdoit</strong> contains functions
to create input dictionaries and <strong>run_online</strong> contains web forms to create input dictionaries.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><code class="xref py py-func docutils literal notranslate"><span class="pre">pandexo.engine.justdoit()</span></code></dt><dd><p>gives ability to simply submit runs</p>
</dd>
<dt><code class="xref py py-func docutils literal notranslate"><span class="pre">pandexo.engine.run_online()</span></code></dt><dd><p>submit runs through user interface</p>
</dd>
</dl>
</div>
</dd></dl>

</div>
<div class="section" id="module-engine.elements">
<span id="engine-elements"></span><h2>engine.elements<a class="headerlink" href="#module-engine.elements" title="Permalink to this headline">¶</a></h2>
<p>Properties of the chemical elements.</p>
<p>Each chemical element is represented as an object instance. Physicochemical
and descriptive properties of the elements are stored as instance attributes.</p>
<dl class="field-list simple">
<dt class="field-odd">Author</dt>
<dd class="field-odd"><p><a class="reference external" href="http://www.lfd.uci.edu/~gohlke/">Christoph Gohlke</a></p>
</dd>
<dt class="field-even">Version</dt>
<dd class="field-even"><p>2015.01.29</p>
</dd>
</dl>
<div class="section" id="requirements">
<h3>Requirements<a class="headerlink" href="#requirements" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p><a class="reference external" href="http://www.python.org">CPython 2.7 or 3.4</a></p></li>
</ul>
<p class="rubric">References</p>
<ol class="arabic simple">
<li><p><a class="reference external" href="http://physics.nist.gov/PhysRefData/Compositions/">http://physics.nist.gov/PhysRefData/Compositions/</a></p></li>
<li><p><a class="reference external" href="http://physics.nist.gov/PhysRefData/IonEnergy/tblNew.html">http://physics.nist.gov/PhysRefData/IonEnergy/tblNew.html</a></p></li>
<li><p><a class="reference external" href="http://en.wikipedia.org/wiki/%(element.name)s">http://en.wikipedia.org/wiki/%(element.name)s</a></p></li>
<li><p><a class="reference external" href="http://www.miranda.org/~jkominek/elements/elements.db">http://www.miranda.org/~jkominek/elements/elements.db</a></p></li>
</ol>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">elements</span> <span class="kn">import</span> <span class="n">ELEMENTS</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">len</span><span class="p">(</span><span class="n">ELEMENTS</span><span class="p">)</span>
<span class="go">109</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">str</span><span class="p">(</span><span class="n">ELEMENTS</span><span class="p">[</span><span class="mi">109</span><span class="p">])</span>
<span class="go">&#39;Meitnerium&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ele</span> <span class="o">=</span> <span class="n">ELEMENTS</span><span class="p">[</span><span class="s1">&#39;C&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ele</span><span class="o">.</span><span class="n">number</span><span class="p">,</span> <span class="n">ele</span><span class="o">.</span><span class="n">symbol</span><span class="p">,</span> <span class="n">ele</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="n">ele</span><span class="o">.</span><span class="n">eleconfig</span>
<span class="go">(6, &#39;C&#39;, &#39;Carbon&#39;, &#39;[He] 2s2 2p2&#39;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ele</span><span class="o">.</span><span class="n">eleconfig_dict</span>
<span class="go">{(1, &#39;s&#39;): 2, (2, &#39;p&#39;): 2, (2, &#39;s&#39;): 2}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">sum</span><span class="p">(</span><span class="n">ele</span><span class="o">.</span><span class="n">mass</span> <span class="k">for</span> <span class="n">ele</span> <span class="ow">in</span> <span class="n">ELEMENTS</span><span class="p">)</span>
<span class="go">14659.1115599</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">ele</span> <span class="ow">in</span> <span class="n">ELEMENTS</span><span class="p">:</span>
<span class="gp">... </span>    <span class="n">ele</span><span class="o">.</span><span class="n">validate</span><span class="p">()</span>
<span class="gp">... </span>    <span class="n">ele</span> <span class="o">=</span> <span class="nb">eval</span><span class="p">(</span><span class="nb">repr</span><span class="p">(</span><span class="n">ele</span><span class="p">))</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="module-engine.hst_smooth">
<span id="engine-hst-smooth"></span><h2>engine.hst_smooth<a class="headerlink" href="#module-engine.hst_smooth" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="engine.hst_smooth.medfilt">
<code class="sig-prename descclassname">engine.hst_smooth.</code><code class="sig-name descname">medfilt</code><span class="sig-paren">(</span><em class="sig-param">x</em>, <em class="sig-param">window_len</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/engine/hst_smooth.html#medfilt"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#engine.hst_smooth.medfilt" title="Permalink to this definition">¶</a></dt>
<dd><p>Apply a length-k median filter to a 1D array x.
Boundaries are extended by repeating endpoints.</p>
</dd></dl>

<dl class="function">
<dt id="engine.hst_smooth.smooth">
<code class="sig-prename descclassname">engine.hst_smooth.</code><code class="sig-name descname">smooth</code><span class="sig-paren">(</span><em class="sig-param">x</em>, <em class="sig-param">window_len=10</em>, <em class="sig-param">window='hanning'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/engine/hst_smooth.html#smooth"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#engine.hst_smooth.smooth" title="Permalink to this definition">¶</a></dt>
<dd><p>smooth the data using a window with requested size.</p>
<p>This method is based on the convolution of a scaled window with the signal.
The signal is prepared by introducing reflected copies of the signal
(with the window size) in both ends so that transient parts are minimized
in the begining and end part of the output signal.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x</strong> (<em>array of floats</em>) – the input signal</p></li>
<li><p><strong>window_len</strong> (<em>int</em>) – (Optional) Default=10. The dimension of the smoothing window</p></li>
<li><p><strong>window</strong> (<em>str</em>) – the type of window from ‘flat’, ‘hanning’, ‘hamming’, ‘bartlett’, ‘blackman’
flat window will produce a moving average smoothing.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The smoothed signal</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>array of floats</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">t</span><span class="o">=</span><span class="n">linspace</span><span class="p">(</span><span class="o">-</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mf">0.1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x</span><span class="o">=</span><span class="n">sin</span><span class="p">(</span><span class="n">t</span><span class="p">)</span><span class="o">+</span><span class="n">randn</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">t</span><span class="p">))</span><span class="o">*</span><span class="mf">0.1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">y</span><span class="o">=</span><span class="n">smooth</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
</pre></div>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><code class="xref py py-func docutils literal notranslate"><span class="pre">numpy.hanning()</span></code>, <code class="xref py py-func docutils literal notranslate"><span class="pre">numpy.hamming()</span></code>, <code class="xref py py-func docutils literal notranslate"><span class="pre">numpy.bartlett()</span></code>, <code class="xref py py-func docutils literal notranslate"><span class="pre">numpy.blackman()</span></code>, <code class="xref py py-func docutils literal notranslate"><span class="pre">numpy.convolve()</span></code>, <code class="xref py py-func docutils literal notranslate"><span class="pre">scipy.signal.lfilter()</span></code>, <code class="xref py py-func docutils literal notranslate"><span class="pre">Todos()</span></code>, <code class="xref py py-func docutils literal notranslate"><span class="pre">-----()</span></code>, <code class="xref py py-func docutils literal notranslate"><span class="pre">The()</span></code></p>
<dl class="simple">
<dt><code class="xref py py-func docutils literal notranslate"><span class="pre">Source()</span></code></dt><dd><p><a class="reference external" href="http://www.scipy.org/Cookbook/SignalSmooth">http://www.scipy.org/Cookbook/SignalSmooth</a>              2009-03-13</p>
</dd>
</dl>
</div>
</dd></dl>

</div>
<div class="section" id="module-engine.logs">
<span id="engine-logs"></span><h2>engine.logs<a class="headerlink" href="#module-engine.logs" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="engine.logs.hst_log">
<code class="sig-prename descclassname">engine.logs.</code><code class="sig-name descname">hst_log</code><span class="sig-paren">(</span><em class="sig-param">final</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/engine/logs.html#hst_log"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#engine.logs.hst_log" title="Permalink to this definition">¶</a></dt>
<dd><p>Logging for Website;Used for tracking usage;Used for tracking usage;Only storing instrument data</p>
</dd></dl>

<dl class="function">
<dt id="engine.logs.jwst_log">
<code class="sig-prename descclassname">engine.logs.</code><code class="sig-name descname">jwst_log</code><span class="sig-paren">(</span><em class="sig-param">final</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/engine/logs.html#jwst_log"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#engine.logs.jwst_log" title="Permalink to this definition">¶</a></dt>
<dd><p>Logging for Website;Used for tracking usage;Only storing instrument data</p>
</dd></dl>

</div>
<div class="section" id="module-engine">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-engine" title="Permalink to this headline">¶</a></h2>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
      
        <a href="tutorialhst.html" class="btn btn-neutral float-left" title="HST Tutorial" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2016, Natasha Batalha;Kevin Stevenson

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>