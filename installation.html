

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Pre-installation Data Download &mdash; PandExo  documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script type="text/javascript" src="_static/jquery.js"></script>
        <script type="text/javascript" src="_static/underscore.js"></script>
        <script type="text/javascript" src="_static/doctools.js"></script>
        <script type="text/javascript" src="_static/language_data.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Windows Installing Guide for PandExo" href="installation_windows.html" />
    <link rel="prev" title="Getting Started" href="includeme.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> PandExo
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="includeme.html">Getting Started</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Pre-installation Data Download</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#jwst-reference-data">JWST Reference Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="#stellar-seds">Stellar SEDs</a></li>
<li class="toctree-l2"><a class="reference internal" href="#fortney-20210-planet-grid-optional">Fortney+ 20210  Planet Grid (Optional)</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="#installation-with-pip-or-git">Installation with Pip or Git</a></li>
<li class="toctree-l1"><a class="reference internal" href="#final-test-for-success">Final Test for Success</a></li>
<li class="toctree-l1"><a class="reference internal" href="#troubleshooting-common-errors">Troubleshooting-Common Errors</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#pyfftw">PyFFTW</a></li>
<li class="toctree-l2"><a class="reference internal" href="#multiprocessing">Multiprocessing</a></li>
<li class="toctree-l2"><a class="reference internal" href="#recursionerror-maximum-recursion-depth-exceeded-while-calling-a-python-object">RecursionError: maximum recursion depth exceeded while calling a Python object</a></li>
<li class="toctree-l2"><a class="reference internal" href="#typeerror-super-argument-1-must-be-type">TypeError: super() argument 1 must be type</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="#the-importance-of-upgrading-pandexo">The Importance of Upgrading PandExo</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#verify-reference-data-is-current">Verify Reference Data is Current</a></li>
<li class="toctree-l2"><a class="reference internal" href="#verify-pandeia-engine-is-current">Verify pandeia.engine is Current</a></li>
<li class="toctree-l2"><a class="reference internal" href="#verify-pandexo-engine-is-current">Verify pandexo.engine is Current</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="installation_windows.html">Windows Installing Guide for PandExo</a></li>
<li class="toctree-l1"><a class="reference internal" href="tutorialjwst.html">JWST Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="jwstinput.html">Possible Instrument Input Params</a></li>
<li class="toctree-l1"><a class="reference internal" href="jwstdict.html">Py Dict Structure of JWST Output</a></li>
<li class="toctree-l1"><a class="reference internal" href="tutorialhst.html">HST Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="engine.html">The Code</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">PandExo</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>Pre-installation Data Download</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/installation.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Before reading further, if you do not wish to install PandExo,there is an online version of the code here at <a class="reference external" href="https://exoctk.stsci.edu/pandexo/">STScI’s ExoCTK</a>.</p>
</div>
<div class="section" id="pre-installation-data-download">
<h1>Pre-installation Data Download<a class="headerlink" href="#pre-installation-data-download" title="Permalink to this headline">¶</a></h1>
<p>PandExo requires: JWST instrument info and stellar SEDs. Users must set up these two environment variables before proceeding.</p>
<div class="section" id="jwst-reference-data">
<h2>JWST Reference Data<a class="headerlink" href="#jwst-reference-data" title="Permalink to this headline">¶</a></h2>
<p>JWST Reference data has been updated to 1.5!</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Reference data for OLD 1.3 is NOT backwards compatible with PandExo/Pandeia 1.4/1.5. The old reference data
can be found <a class="reference external" href="http://ssb.stsci.edu/pandeia/engine/1.3/pandeia_data-1.3.tar.gz">here</a> if you still wish to use PandExo v1.3. It is important to make sure that the version number of <cite>PandExo</cite> matches the version number of your reference data.</p>
</div>
<p>The new reference data is located <a class="reference external" href="https://stsci.app.box.com/v/pandeia-refdata-v1p6">here for V1p6</a>. Hopefully backwards compatibility issues will subside as Pandeia becomes more mature.</p>
<p>After you have downloaded the reference data, create environment variable:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">echo</span> <span class="s1">&#39;export pandeia_refdata=&quot;$USRDIR/pandeia_data&quot;&#39;</span> &gt;&gt;~/.bash_profile
</pre></div>
</div>
</div>
<div class="section" id="stellar-seds">
<h2>Stellar SEDs<a class="headerlink" href="#stellar-seds" title="Permalink to this headline">¶</a></h2>
<p>Likewise, the user may wish to install specific data for use with the PySynPhot package Pandeia uses. We will only be using the Phoenix stellar atlas, which can be downloaded <a class="reference external" href="ftp://ftp.stsci.edu/cdbs/tarfiles/synphot5.tar.gz">here</a>.</p>
<p>More reference files can be downloaded via ftp:</p>
<ul class="simple">
<li><p>ftp archive.stsci.edu</p></li>
<li><p>username “anonymous”</p></li>
<li><p>password is your e-mail address</p></li>
<li><p>cd pub/hst/pysynphot</p></li>
<li><p>download desired files.</p></li>
</ul>
<p><em>Note</em> that the tar.gz files downloaded from the STScI anonymous FTP site will untar into the directory structure “grp/hst/cdbs”, with the actual data files in an assortment of directories under “cdbs”. pysynphot (and pandeia) expect that the “PYSYN_CDBS” environment variable will point to the “cdbs” directory. As such, you can either move the files out of “grp/hst/” to wherever you would like to store them, or point “PYSYN_CDBS” to “/path/to/data/files/grp/hst/cdbs” in order to allow pysynphot and pandeia to properly detect the reference files.</p>
<p>Finally, create your environment variable:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">echo</span> <span class="s1">&#39;export PYSYN_CDBS=&quot;$USRDIR/path/to/data/files/grp/hst/cdbs&quot;&#39;</span> &gt;&gt;~/.bash_profile
</pre></div>
</div>
</div>
<div class="section" id="fortney-20210-planet-grid-optional">
<h2>Fortney+ 20210  Planet Grid (Optional)<a class="headerlink" href="#fortney-20210-planet-grid-optional" title="Permalink to this headline">¶</a></h2>
<p>A user may want to install a grid of atmospheric models to simulate planet atmospheres. Some of the example notebooks use an atmospheric model grid. This grid can be obtained from:</p>
<ul class="simple">
<li><p><a class="reference external" href="https://github.com/ExoCTK/exoctk#obtain-the-exoctk-data">The ExoCTK Website</a>.</p></li>
</ul>
<p>After downloading the Fortney files, create an environmental variable to point to them.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">echo</span> <span class="s1">&#39;export FORTGRID_DIR=&quot;$USRDIR/path/to/data/files/fortney_models.db&quot;&#39;</span> &gt;&gt;~/.bash_profile
</pre></div>
</div>
</div>
</div>
<div class="section" id="installation-with-pip-or-git">
<h1>Installation with Pip or Git<a class="headerlink" href="#installation-with-pip-or-git" title="Permalink to this headline">¶</a></h1>
<p>Install STScI specific packages</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>conda config --add channels http://ssb.stsci.edu/astroconda
conda install pyfftw
</pre></div>
</div>
<p>Now, install <cite>pandexo</cite>.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>pip install pandexo.engine
</pre></div>
</div>
<p>OR Download PandExo’s repository via Github. The Github also has helpful notebooks for getting started!</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git clone --recursive https://github.com/natashabatalha/pandexo
<span class="nb">cd</span> pandexo
python setup.py install
</pre></div>
</div>
</div>
<div class="section" id="final-test-for-success">
<h1>Final Test for Success<a class="headerlink" href="#final-test-for-success" title="Permalink to this headline">¶</a></h1>
<p>There is a <cite>run_test.py</cite> in the <cite>github</cite>. Test that you’re code is working:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>python run_test.py
Starting TEST run
Running Single Case <span class="k">for</span>: NIRSpec G140H
Optimization Reqested: Computing Duty Cycle
Finished Duty Cycle Calc
Starting Out of Transit Simulation
End out of Transit
Starting In Transit Simulation
End In Transit
SUCCESS
</pre></div>
</div>
</div>
<div class="section" id="troubleshooting-common-errors">
<h1>Troubleshooting-Common Errors<a class="headerlink" href="#troubleshooting-common-errors" title="Permalink to this headline">¶</a></h1>
<div class="section" id="pyfftw">
<h2>PyFFTW<a class="headerlink" href="#pyfftw" title="Permalink to this headline">¶</a></h2>
<p>PyFFTW is needed to run PandExo. In order to run PyFFTW you need to also isntall fftw. To do so, it is necessary to do so through Homebrew, if you do not have conda.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>brew install fftw
pip install pyfftw
</pre></div>
</div>
</div>
<div class="section" id="multiprocessing">
<h2>Multiprocessing<a class="headerlink" href="#multiprocessing" title="Permalink to this headline">¶</a></h2>
<p>Python 2.7 users might need to install multiprocessing</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>pip install multiprocessing
</pre></div>
</div>
</div>
<div class="section" id="recursionerror-maximum-recursion-depth-exceeded-while-calling-a-python-object">
<h2>RecursionError: maximum recursion depth exceeded while calling a Python object<a class="headerlink" href="#recursionerror-maximum-recursion-depth-exceeded-while-calling-a-python-object" title="Permalink to this headline">¶</a></h2>
<p>There is a known bug with Python 3.6 and Sphinx &lt;1.6. Before updating or installing pandexo do the following:</p>
<p>PIP USERS:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>pip install <span class="nv">sphinx</span><span class="o">==</span><span class="m">1</span>.5.6
</pre></div>
</div>
<p>CONDA USERS:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>conda install <span class="nv">sphinx</span><span class="o">=</span><span class="m">1</span>.5.6
</pre></div>
</div>
</div>
<div class="section" id="typeerror-super-argument-1-must-be-type">
<h2>TypeError: super() argument 1 must be type<a class="headerlink" href="#typeerror-super-argument-1-must-be-type" title="Permalink to this headline">¶</a></h2>
<p>This is the same error above with Sphinx, but for Python 2.7 users. The fix is the same:</p>
<p>PIP USERS:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>pip install <span class="nv">sphinx</span><span class="o">==</span><span class="m">1</span>.5.6
</pre></div>
</div>
<p>CONDA USERS:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>conda install <span class="nv">sphinx</span><span class="o">=</span><span class="m">1</span>.5.6
</pre></div>
</div>
</div>
</div>
<div class="section" id="the-importance-of-upgrading-pandexo">
<h1>The Importance of Upgrading PandExo<a class="headerlink" href="#the-importance-of-upgrading-pandexo" title="Permalink to this headline">¶</a></h1>
<p>It is crucial that your verison of PandExo remain up to date. Especially through commissioning and leading up to launch, there may be crucial changes to the code or the reference data. Updating PandExo requires three crucial steps.</p>
<div class="section" id="verify-reference-data-is-current">
<h2>Verify Reference Data is Current<a class="headerlink" href="#verify-reference-data-is-current" title="Permalink to this headline">¶</a></h2>
<p>The link to the reference data is located on <a class="reference external" href="https://pypi.python.org/pypi/pandeia.engine/">Pandeia’s PyPI page</a>. Before doing a large batch of calculations, make sure that you have this version.</p>
</div>
<div class="section" id="verify-pandeia-engine-is-current">
<h2>Verify pandeia.engine is Current<a class="headerlink" href="#verify-pandeia-engine-is-current" title="Permalink to this headline">¶</a></h2>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>pip install pandeia.engine --upgrade
</pre></div>
</div>
</div>
<div class="section" id="verify-pandexo-engine-is-current">
<h2>Verify pandexo.engine is Current<a class="headerlink" href="#verify-pandexo-engine-is-current" title="Permalink to this headline">¶</a></h2>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>pip install pandexo.engine --upgrade
</pre></div>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="installation_windows.html" class="btn btn-neutral float-right" title="Windows Installing Guide for PandExo" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="includeme.html" class="btn btn-neutral float-left" title="Getting Started" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2016, Natasha Batalha;Kevin Stevenson

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>